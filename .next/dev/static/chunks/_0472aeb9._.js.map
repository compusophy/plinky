{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/25/nov-25/gamba/plinky/constants.ts"],"sourcesContent":["export const ROWS = 7;\r\n\r\nexport const MULTIPLIERS = [\r\n  3.7, 2.1, 1.05, 0.58, 0.58, 1.05, 2.1, 3.7\r\n];\r\n\r\n// Calibrated multipliers - set these after calibration in dev mode\r\n// If this array is empty, MULTIPLIERS will be used instead\r\n// To calibrate: Play 200+ games, calibrate until RTP is ~95%, then click \"Save Calibrated Multipliers\" in dev tools\r\nexport const CALIBRATED_MULTIPLIERS: number[] = [1.630, 0.935, 0.467, 0.257, 0.257, 0.467, 0.935, 1.630];\r\n// Physics calibration coefficient: ONLY used as a fallback when CALIBRATED_MULTIPLIERS is empty\r\n// This is a rough estimate for initial dev testing. For production, use the dev tools calibration system:\r\n// 1. Play 200+ games, calibrate until RTP is ~95%\r\n// 2. Click \"Save Calibrated Multipliers\" to export to CALIBRATED_MULTIPLIERS\r\n// 3. Once CALIBRATED_MULTIPLIERS is set, this coefficient is ignored\r\n// If physics gives higher RTP than theoretical, this should be < 1.0\r\n// If physics gives lower RTP than theoretical, this should be > 1.0\r\nexport const PHYSICS_CALIBRATION_COEFFICIENT = 0.8411; // Fallback only - use dev tools calibration for production\r\n\r\nexport const MULTIPLIER_COLORS: { [key: number]: string } = {\r\n  0.9: 'bg-purple-500',\r\n  1.0: 'bg-blue-500',\r\n  1.5: 'bg-cyan-500',\r\n  2.0: 'bg-teal-500',\r\n  4.0: 'bg-green-500',\r\n  7.0: 'bg-yellow-500',\r\n  15.0: 'bg-orange-500',\r\n  50.0: 'bg-red-500',\r\n  100.0: 'bg-pink-500',\r\n};\r\n\r\nexport const getMultiplierColor = (multiplier: number): string => {\r\n  const keys = Object.keys(MULTIPLIER_COLORS).map(Number).sort((a,b) => a-b);\r\n  for(const key of keys) {\r\n      if(multiplier <= key) {\r\n          return MULTIPLIER_COLORS[key];\r\n      }\r\n  }\r\n  return MULTIPLIER_COLORS[keys[keys.length-1]];\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,OAAO;AAEb,MAAM,cAAc;IACzB;IAAK;IAAK;IAAM;IAAM;IAAM;IAAM;IAAK;CACxC;AAKM,MAAM,yBAAmC;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM;AAQjG,MAAM,kCAAkC,QAAQ,2DAA2D;AAE3G,MAAM,oBAA+C;IAC1D,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,OAAO;AACT;AAEO,MAAM,qBAAqB,CAAC;IACjC,MAAM,OAAO,OAAO,IAAI,CAAC,mBAAmB,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAE,IAAM,IAAE;IACxE,KAAI,MAAM,OAAO,KAAM;QACnB,IAAG,cAAc,KAAK;YAClB,OAAO,iBAAiB,CAAC,IAAI;QACjC;IACJ;IACA,OAAO,iBAAiB,CAAC,IAAI,CAAC,KAAK,MAAM,GAAC,EAAE,CAAC;AAC/C"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/25/nov-25/gamba/plinky/components/PlinkoBoard.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from 'react';\nimport Matter from 'matter-js';\nimport { ROWS } from '../constants';\n\ninterface PlinkoBoardProps {\n  multipliers: number[];\n  playTrigger: number;\n  onGameEnd: (binIndex: number) => void;\n  gravity: number;\n}\n\ntype BinData = {\n    multiplier: number;\n    left: number;\n    width: number;\n    height: number;\n    bottom: number;\n};\n\ntype BoardElements = {\n    staticBodies: Matter.Body[];\n    pegElements: React.ReactElement[];\n    binData: BinData[];\n    ballRadius: number;\n    ballStartX: number;\n    ballStartY: number;\n};\n\nconst PlinkoBoard: React.FC<PlinkoBoardProps> = ({ multipliers, playTrigger, onGameEnd, gravity }) => {\n  const sceneRef = useRef<HTMLDivElement>(null);\n  const engineRef = useRef<Matter.Engine | undefined>(undefined);\n  const runnerRef = useRef<Matter.Runner | undefined>(undefined);\n  const lastPlayTrigger = useRef(playTrigger);\n  const settledBallsRef = useRef<Set<Matter.Body>>(new Set()); // Track multiple settled balls\n  const initialBallRef = useRef<Matter.Body | null>(null);\n  \n  const [balls, setBalls] = useState<Record<string, { x: number; y: number; angle: number }>>({});\n  const [winningBin, setWinningBin] = useState<number | null>(null);\n  const [boardElements, setBoardElements] = useState<BoardElements | null>(null);\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n  const settledBallIdsRef = useRef<Set<number>>(new Set()); // Track IDs of settled balls to hide them\n\n  useEffect(() => {\n    if (!sceneRef.current) return;\n    const resizeObserver = new ResizeObserver(() => {\n        if (sceneRef.current) {\n            const { width, height } = sceneRef.current.getBoundingClientRect();\n            setDimensions({ width, height });\n        }\n    });\n    resizeObserver.observe(sceneRef.current);\n    return () => resizeObserver.disconnect();\n  }, []);\n\n  useEffect(() => {\n    const { width, height } = dimensions;\n    if (width === 0 || height === 0) return;\n    \n    const binCount = multipliers.length;\n    const pegRows = ROWS;\n\n    const ballRadius = Math.max(3, width * 0.02);\n    const pegRadius = Math.max(1.5, width * 0.01);\n    \n    const hSpacing = width / (binCount);\n    \n    // Calculate uniform spacing: space above ball = spacing between rows\n    // Container has header (vSpacing) + main + footer (vSpacing)\n    // Main has: space above ball + ball-to-row0 + (pegRows-1) spacings + space after last peg + space to bins\n    // Total spacings in main = 1 (above ball) + 1 (ball to row0) + (pegRows-1) + 1 (after last peg) + 1 (to bins) = pegRows + 3\n    const bottomPadding = hSpacing; // Space for bins\n    const totalSpacings = pegRows + 3; // Above ball + between rows + after last peg + to bins\n    const vSpacing = (height - bottomPadding) / totalSpacings;\n    \n    // Position ball: space from top to ball center = vSpacing\n    const ballStartX = width / 2;\n    const ballStartY = vSpacing; // Ball center is vSpacing from top\n    \n    // First row of pegs starts one spacing below the ball center\n    const pegGridStartY = ballStartY + vSpacing;\n    \n    // Calculate where bins start (completely below last row of pegs)\n    // Last row of pegs is at: pegGridStartY + (pegRows - 1) * vSpacing\n    // Add full spacing below it to ensure bins are completely under\n    const lastPegRowY = pegGridStartY + (pegRows - 1) * vSpacing;\n    const pegAreaBottom = lastPegRowY + vSpacing;\n    \n    const ballStartYAdjusted = ballStartY;\n\n    const staticBodies: Matter.Body[] = [];\n    const pegElements: React.ReactElement[] = [];\n\n    for (let row = 0; row < pegRows; row++) {\n      const pegsInRow = row + 2;\n      const y = pegGridStartY + row * vSpacing;\n      const totalRowWidth = (pegsInRow - 1) * hSpacing;\n      const startX = (width - totalRowWidth) / 2;\n\n      for (let col = 0; col < pegsInRow; col++) {\n        const x = startX + col * hSpacing;\n        const peg = Matter.Bodies.circle(x, y, pegRadius, { \n            isStatic: true, label: 'peg', restitution: 0.8, friction: 0.01 \n        });\n        staticBodies.push(peg);\n        pegElements.push(<div key={`p-${row}-${col}`} className=\"absolute rounded-full shadow-lg\" style={{ left: x, top: y, width: pegRadius * 2, height: pegRadius * 2, transform: 'translate(-50%, -50%)', background: 'radial-gradient(circle at 30% 30%, #c1c1c1, #777)' }} />);\n      }\n    }\n\n    const binDividerTopY = pegAreaBottom;\n    const binWallHeight = vSpacing; // Match row height for uniform spacing\n    const binBottomY = binDividerTopY + binWallHeight;\n    \n    const floor = Matter.Bodies.rectangle(width / 2, binBottomY + ballRadius * 2, width * 3, 4, { isStatic: true, label: 'floor' });\n    staticBodies.push(floor);\n\n    for (let i = 0; i < binCount + 1; i++) {\n        const x = i * hSpacing;\n        const pegPart = Matter.Bodies.circle(x, binDividerTopY, pegRadius, { isStatic: true, restitution: 0.8, friction: 0.01 });\n        const wallPart = Matter.Bodies.rectangle(x, binDividerTopY + binWallHeight / 2, pegRadius, binWallHeight, { isStatic: true });\n        const dividerBody = Matter.Body.create({ parts: [pegPart, wallPart], isStatic: true, label: 'divider' });\n        staticBodies.push(dividerBody);\n        pegElements.push(<div key={`d-p-${i}`} className=\"absolute rounded-full shadow-lg\" style={{ left: x, top: binDividerTopY, width: pegRadius * 2, height: pegRadius * 2, transform: 'translate(-50%, -50%)', background: 'radial-gradient(circle at 30% 30%, #c1c1c1, #777)' }} />);\n    }\n\n    const binData: BinData[] = [];\n    for (let i = 0; i < binCount; i++) {\n        const sensorX = i * hSpacing + hSpacing / 2;\n        const sensorHeight = binWallHeight;\n        // Sensor top should align with binDividerTopY (center of divider nodes), so center is at binDividerTopY + sensorHeight/2\n        const sensorY = binDividerTopY + sensorHeight / 2;\n        const sensor = Matter.Bodies.rectangle(sensorX, sensorY, hSpacing, sensorHeight, { isStatic: true, isSensor: true, label: `bin-${i}` });\n        staticBodies.push(sensor);\n\n        const binFloorX = sensorX;\n        const binFloorY = binBottomY - (pegRadius / 2);\n        const binFloorWidth = hSpacing;\n        const binFloorHeight = pegRadius;\n        const binFloorBody = Matter.Bodies.rectangle(binFloorX, binFloorY, binFloorWidth, binFloorHeight, { isStatic: true, label: 'bin-floor' });\n        staticBodies.push(binFloorBody);\n\n        // Calculate bottom offset: bins should start at binDividerTopY (center of divider nodes) and extend downward\n        // The top of the bin should be at binDividerTopY, so bottom = height - binDividerTopY - binWallHeight\n        const binBottomOffset = height - binDividerTopY - binWallHeight;\n        \n        binData.push({\n            multiplier: multipliers[i],\n            left: (i * 100) / binCount,\n            width: 100 / binCount,\n            height: binWallHeight,\n            bottom: binBottomOffset\n        });\n    }\n\n    setBoardElements({ staticBodies, pegElements, binData, ballRadius, ballStartX, ballStartY: ballStartYAdjusted });\n  }, [dimensions, multipliers]);\n\n  const binElements = useMemo(() => {\n      if (!boardElements) return [];\n      \n      // Rainbow colors mirror-symmetrical: purple at edges, red in middle (semi-transparent)\n      const rainbowColors = [\n        'bg-purple-500/30',   // Bin 0 - Purple (outer left)\n        'bg-indigo-500/30',   // Bin 1 - Indigo\n        'bg-blue-500/30',     // Bin 2 - Blue\n        'bg-red-500/30',      // Bin 3 - Red (middle left)\n        'bg-red-500/30',      // Bin 4 - Red (middle right)\n        'bg-blue-500/30',     // Bin 5 - Blue\n        'bg-indigo-500/30',   // Bin 6 - Indigo\n        'bg-purple-500/30',   // Bin 7 - Purple (outer right)\n      ];\n      \n      return boardElements.binData.map((data: BinData, i: number) => {\n        const multiplier = data.multiplier;\n        const colorClass = rainbowColors[i] || 'bg-gray-500/30';\n        // Extract base color for border and shadow (remove opacity and bg- prefix)\n        const baseColor = colorClass.replace('bg-', '').replace('/30', '');\n        const borderColorClass = `border-${baseColor}`;\n        const shadowColorClass = `shadow-${baseColor}`;\n        const isWinning = winningBin === i;\n        \n        // No background, only add glow when winning\n        const glowClass = isWinning ? `shadow-[0_0_15px] ${shadowColorClass}` : '';\n        const binClasses = `w-full h-full flex items-center justify-center text-white font-bold text-xs md:text-sm transition-all duration-300 border-l border-r border-b border-t-0 bg-transparent ${borderColorClass} ${glowClass}`;\n        \n        return (\n            <div key={`b-${i}`} className=\"absolute flex items-center justify-center\" style={{ left: `${data.left}%`, width: `${data.width}%`, bottom: `${data.bottom}px`, height: `${data.height}px` }}>\n                <div className={binClasses}>\n                    {multiplier.toFixed(2)}x\n                </div>\n            </div>\n        )\n      })\n  }, [boardElements, winningBin, multipliers]);\n\n  useEffect(() => {\n    const engine = Matter.Engine.create({ gravity: { y: gravity } });\n    // Speed up simulation by increasing timeScale (2x faster)\n    engine.timing.timeScale = 2.0;\n    const runner = Matter.Runner.create();\n    engineRef.current = engine;\n    runnerRef.current = runner;\n    \n    if (!boardElements) return;\n\n    Matter.Composite.add(engine.world, boardElements.staticBodies);\n    \n    // Create initial static ball at starting position\n    const { ballStartX, ballStartY, ballRadius } = boardElements;\n    const initialBall = Matter.Bodies.circle(ballStartX, ballStartY, ballRadius, {\n      label: 'ball',\n      isStatic: true,\n      collisionFilter: {\n        group: -1, // Negative group means balls don't collide with each other\n        category: 0x0001, // Ball category\n        mask: 0xFFFF, // Collide with everything except other balls (handled by group)\n      },\n    });\n    Matter.Composite.add(engine.world, initialBall);\n    initialBallRef.current = initialBall;\n    \n    Matter.Runner.run(runner, engine);\n\n    let animationFrameId: number;\n    const update = () => {\n        if (!engineRef.current) return;\n        const updatedBalls: Record<string, { x: number; y: number; angle: number }> = {};\n        Matter.Composite.allBodies(engineRef.current.world).forEach((body: Matter.Body) => {\n            if (body.label === 'ball' && !settledBallIdsRef.current.has(body.id)) {\n                updatedBalls[body.id] = { x: body.position.x, y: body.position.y, angle: body.angle };\n            }\n        });\n        setBalls(updatedBalls);\n        animationFrameId = requestAnimationFrame(update);\n    };\n    update();\n    \n    const collisionHandler = (event: Matter.IEventCollision<Matter.Engine>) => {\n        for (const pair of event.pairs) {\n            const { bodyA, bodyB } = pair;\n            const ball = bodyA.label === 'ball' ? bodyA : (bodyB.label === 'ball' ? bodyB : null);\n            if (!ball || (ball as any).isSettled) continue;\n\n            const binSensor = bodyA.label.startsWith('bin-') ? bodyA : (bodyB.label.startsWith('bin-') ? bodyB : null);\n            const floor = bodyA.label === 'floor' ? bodyA : (bodyB.label === 'floor' ? bodyB : null);\n\n            const handleSettled = (binIndex: number) => {\n                if ((ball as any).isSettled) return;\n                (ball as any).isSettled = true;\n                settledBallsRef.current.add(ball);\n                settledBallIdsRef.current.add(ball.id); // Mark this ball ID as settled\n\n                // Remove settled ball from rendering immediately\n                setBalls(prev => {\n                    const updated = { ...prev };\n                    delete updated[ball.id];\n                    return updated;\n                });\n\n                onGameEnd(binIndex);\n                // Only set winning bin for the most recent ball (optional - could show multiple)\n                if (binIndex !== -1) {\n                    setWinningBin(binIndex);\n                }\n            };\n\n            if (binSensor) {\n                handleSettled(parseInt(binSensor.label.split('-')[1]));\n            } else if (floor) {\n                handleSettled(-1);\n            }\n        }\n    };\n\n    Matter.Events.on(engine, 'collisionStart', collisionHandler);\n\n    return () => {\n        cancelAnimationFrame(animationFrameId);\n        Matter.Events.off(engine, 'collisionStart', collisionHandler);\n        if(runner) Matter.Runner.stop(runner);\n        if(engine) Matter.Engine.clear(engine);\n    };\n  }, [boardElements, onGameEnd]);\n\n  // Update gravity dynamically\n  useEffect(() => {\n    if (engineRef.current) {\n      engineRef.current.world.gravity.y = gravity;\n    }\n  }, [gravity]);\n\n  useEffect(() => {\n    if (playTrigger > lastPlayTrigger.current) {\n        lastPlayTrigger.current = playTrigger;\n        \n        // Remove initial static ball if it exists (only on first play)\n        if (initialBallRef.current && engineRef.current) {\n            Matter.World.remove(engineRef.current.world, initialBallRef.current);\n            initialBallRef.current = null;\n        }\n        \n        // Don't clear winningBin - allow multiple balls to show their results\n        // setWinningBin(null);\n\n        if (engineRef.current && boardElements) {\n            const { ballStartX, ballStartY, ballRadius } = boardElements;\n            const randomOffset = (Math.random() - 0.5) * ballRadius * 0.1;\n            const x = ballStartX + randomOffset;\n            const ball = Matter.Bodies.circle(x, ballStartY, ballRadius, {\n                label: 'ball', \n                restitution: 0.9, \n                friction: 0.001, \n                slop: 0.1, \n                density: 0.01,\n                collisionFilter: {\n                    group: -1, // Negative group means balls don't collide with each other\n                    category: 0x0001, // Ball category\n                    mask: 0xFFFF, // Collide with everything except other balls (handled by group)\n                },\n            });\n            Matter.Composite.add(engineRef.current.world, ball);\n        }\n    }\n  }, [playTrigger, boardElements]);\n\n  return (\n    <div ref={sceneRef} className=\"relative w-full h-full overflow-hidden\">\n      {boardElements?.pegElements}\n      {binElements}\n      {Object.keys(balls).map((id) => {\n        const ballId = parseInt(id);\n        // Don't render settled balls\n        if (settledBallIdsRef.current.has(ballId)) {\n          return null;\n        }\n        const pos = balls[id];\n        return (\n          <div key={id} className=\"absolute rounded-full\" style={{\n              background: 'radial-gradient(circle at 30% 30%, #3e9c35, #168118, #157811)',\n              boxShadow: '0 0 5px #168118, 0 0 10px #168118',\n              width: boardElements ? boardElements.ballRadius * 2 : 0,\n              height: boardElements ? boardElements.ballRadius * 2 : 0,\n              left: pos.x,\n              top: pos.y,\n              transform: `translate(-50%, -50%) rotate(${pos.angle}rad)`,\n          }} />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default PlinkoBoard;"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AA0BA,MAAM,cAA0C,CAAC,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE;;IAC/F,MAAM,WAAW,IAAA,8SAAM,EAAiB;IACxC,MAAM,YAAY,IAAA,8SAAM,EAA4B;IACpD,MAAM,YAAY,IAAA,8SAAM,EAA4B;IACpD,MAAM,kBAAkB,IAAA,8SAAM,EAAC;IAC/B,MAAM,kBAAkB,IAAA,8SAAM,EAAmB,IAAI,QAAQ,+BAA+B;IAC5F,MAAM,iBAAiB,IAAA,8SAAM,EAAqB;IAElD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gTAAQ,EAA0D,CAAC;IAC7F,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gTAAQ,EAAgB;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gTAAQ,EAAuB;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gTAAQ,EAAC;QAAE,OAAO;QAAG,QAAQ;IAAE;IACnE,MAAM,oBAAoB,IAAA,8SAAM,EAAc,IAAI,QAAQ,0CAA0C;IAEpG,IAAA,iTAAS;iCAAC;YACR,IAAI,CAAC,SAAS,OAAO,EAAE;YACvB,MAAM,iBAAiB,IAAI;yCAAe;oBACtC,IAAI,SAAS,OAAO,EAAE;wBAClB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,SAAS,OAAO,CAAC,qBAAqB;wBAChE,cAAc;4BAAE;4BAAO;wBAAO;oBAClC;gBACJ;;YACA,eAAe,OAAO,CAAC,SAAS,OAAO;YACvC;yCAAO,IAAM,eAAe,UAAU;;QACxC;gCAAG,EAAE;IAEL,IAAA,iTAAS;iCAAC;YACR,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG;YAC1B,IAAI,UAAU,KAAK,WAAW,GAAG;YAEjC,MAAM,WAAW,YAAY,MAAM;YACnC,MAAM,UAAU,oHAAI;YAEpB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,QAAQ;YACvC,MAAM,YAAY,KAAK,GAAG,CAAC,KAAK,QAAQ;YAExC,MAAM,WAAW,QAAS;YAE1B,qEAAqE;YACrE,6DAA6D;YAC7D,0GAA0G;YAC1G,4HAA4H;YAC5H,MAAM,gBAAgB,UAAU,iBAAiB;YACjD,MAAM,gBAAgB,UAAU,GAAG,uDAAuD;YAC1F,MAAM,WAAW,CAAC,SAAS,aAAa,IAAI;YAE5C,0DAA0D;YAC1D,MAAM,aAAa,QAAQ;YAC3B,MAAM,aAAa,UAAU,mCAAmC;YAEhE,6DAA6D;YAC7D,MAAM,gBAAgB,aAAa;YAEnC,iEAAiE;YACjE,mEAAmE;YACnE,gEAAgE;YAChE,MAAM,cAAc,gBAAgB,CAAC,UAAU,CAAC,IAAI;YACpD,MAAM,gBAAgB,cAAc;YAEpC,MAAM,qBAAqB;YAE3B,MAAM,eAA8B,EAAE;YACtC,MAAM,cAAoC,EAAE;YAE5C,IAAK,IAAI,MAAM,GAAG,MAAM,SAAS,MAAO;gBACtC,MAAM,YAAY,MAAM;gBACxB,MAAM,IAAI,gBAAgB,MAAM;gBAChC,MAAM,gBAAgB,CAAC,YAAY,CAAC,IAAI;gBACxC,MAAM,SAAS,CAAC,QAAQ,aAAa,IAAI;gBAEzC,IAAK,IAAI,MAAM,GAAG,MAAM,WAAW,MAAO;oBACxC,MAAM,IAAI,SAAS,MAAM;oBACzB,MAAM,MAAM,uNAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,WAAW;wBAC9C,UAAU;wBAAM,OAAO;wBAAO,aAAa;wBAAK,UAAU;oBAC9D;oBACA,aAAa,IAAI,CAAC;oBAClB,YAAY,IAAI,eAAC,oUAAC;wBAA4B,WAAU;wBAAkC,OAAO;4BAAE,MAAM;4BAAG,KAAK;4BAAG,OAAO,YAAY;4BAAG,QAAQ,YAAY;4BAAG,WAAW;4BAAyB,YAAY;wBAAoD;uBAA1O,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,KAAK;;;;;gBAC9C;YACF;YAEA,MAAM,iBAAiB;YACvB,MAAM,gBAAgB,UAAU,uCAAuC;YACvE,MAAM,aAAa,iBAAiB;YAEpC,MAAM,QAAQ,uNAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,aAAa,aAAa,GAAG,QAAQ,GAAG,GAAG;gBAAE,UAAU;gBAAM,OAAO;YAAQ;YAC7H,aAAa,IAAI,CAAC;YAElB,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,GAAG,IAAK;gBACnC,MAAM,IAAI,IAAI;gBACd,MAAM,UAAU,uNAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,gBAAgB,WAAW;oBAAE,UAAU;oBAAM,aAAa;oBAAK,UAAU;gBAAK;gBACtH,MAAM,WAAW,uNAAM,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,iBAAiB,gBAAgB,GAAG,WAAW,eAAe;oBAAE,UAAU;gBAAK;gBAC3H,MAAM,cAAc,uNAAM,CAAC,IAAI,CAAC,MAAM,CAAC;oBAAE,OAAO;wBAAC;wBAAS;qBAAS;oBAAE,UAAU;oBAAM,OAAO;gBAAU;gBACtG,aAAa,IAAI,CAAC;gBAClB,YAAY,IAAI,eAAC,oUAAC;oBAAqB,WAAU;oBAAkC,OAAO;wBAAE,MAAM;wBAAG,KAAK;wBAAgB,OAAO,YAAY;wBAAG,QAAQ,YAAY;wBAAG,WAAW;wBAAyB,YAAY;oBAAoD;mBAAhP,CAAC,IAAI,EAAE,GAAG;;;;;YACzC;YAEA,MAAM,UAAqB,EAAE;YAC7B,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;gBAC/B,MAAM,UAAU,IAAI,WAAW,WAAW;gBAC1C,MAAM,eAAe;gBACrB,yHAAyH;gBACzH,MAAM,UAAU,iBAAiB,eAAe;gBAChD,MAAM,SAAS,uNAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,SAAS,UAAU,cAAc;oBAAE,UAAU;oBAAM,UAAU;oBAAM,OAAO,CAAC,IAAI,EAAE,GAAG;gBAAC;gBACrI,aAAa,IAAI,CAAC;gBAElB,MAAM,YAAY;gBAClB,MAAM,YAAY,aAAc,YAAY;gBAC5C,MAAM,gBAAgB;gBACtB,MAAM,iBAAiB;gBACvB,MAAM,eAAe,uNAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,WAAW,eAAe,gBAAgB;oBAAE,UAAU;oBAAM,OAAO;gBAAY;gBACvI,aAAa,IAAI,CAAC;gBAElB,6GAA6G;gBAC7G,sGAAsG;gBACtG,MAAM,kBAAkB,SAAS,iBAAiB;gBAElD,QAAQ,IAAI,CAAC;oBACT,YAAY,WAAW,CAAC,EAAE;oBAC1B,MAAM,AAAC,IAAI,MAAO;oBAClB,OAAO,MAAM;oBACb,QAAQ;oBACR,QAAQ;gBACZ;YACJ;YAEA,iBAAiB;gBAAE;gBAAc;gBAAa;gBAAS;gBAAY;gBAAY,YAAY;YAAmB;QAChH;gCAAG;QAAC;QAAY;KAAY;IAE5B,MAAM,cAAc,IAAA,+SAAO;4CAAC;YACxB,IAAI,CAAC,eAAe,OAAO,EAAE;YAE7B,uFAAuF;YACvF,MAAM,gBAAgB;gBACpB;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YAED,OAAO,cAAc,OAAO,CAAC,GAAG;oDAAC,CAAC,MAAe;oBAC/C,MAAM,aAAa,KAAK,UAAU;oBAClC,MAAM,aAAa,aAAa,CAAC,EAAE,IAAI;oBACvC,2EAA2E;oBAC3E,MAAM,YAAY,WAAW,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO;oBAC/D,MAAM,mBAAmB,CAAC,OAAO,EAAE,WAAW;oBAC9C,MAAM,mBAAmB,CAAC,OAAO,EAAE,WAAW;oBAC9C,MAAM,YAAY,eAAe;oBAEjC,4CAA4C;oBAC5C,MAAM,YAAY,YAAY,CAAC,kBAAkB,EAAE,kBAAkB,GAAG;oBACxE,MAAM,aAAa,CAAC,wKAAwK,EAAE,iBAAiB,CAAC,EAAE,WAAW;oBAE7N,qBACI,oUAAC;wBAAmB,WAAU;wBAA4C,OAAO;4BAAE,MAAM,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;4BAAE,OAAO,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;4BAAE,QAAQ,GAAG,KAAK,MAAM,CAAC,EAAE,CAAC;4BAAE,QAAQ,GAAG,KAAK,MAAM,CAAC,EAAE,CAAC;wBAAC;kCACtL,cAAA,oUAAC;4BAAI,WAAW;;gCACX,WAAW,OAAO,CAAC;gCAAG;;;;;;;uBAFrB,CAAC,EAAE,EAAE,GAAG;;;;;gBAMxB;;QACJ;2CAAG;QAAC;QAAe;QAAY;KAAY;IAE3C,IAAA,iTAAS;iCAAC;YACR,MAAM,SAAS,uNAAM,CAAC,MAAM,CAAC,MAAM,CAAC;gBAAE,SAAS;oBAAE,GAAG;gBAAQ;YAAE;YAC9D,0DAA0D;YAC1D,OAAO,MAAM,CAAC,SAAS,GAAG;YAC1B,MAAM,SAAS,uNAAM,CAAC,MAAM,CAAC,MAAM;YACnC,UAAU,OAAO,GAAG;YACpB,UAAU,OAAO,GAAG;YAEpB,IAAI,CAAC,eAAe;YAEpB,uNAAM,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,KAAK,EAAE,cAAc,YAAY;YAE7D,kDAAkD;YAClD,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG;YAC/C,MAAM,cAAc,uNAAM,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,YAAY,YAAY;gBAC3E,OAAO;gBACP,UAAU;gBACV,iBAAiB;oBACf,OAAO,CAAC;oBACR,UAAU;oBACV,MAAM;gBACR;YACF;YACA,uNAAM,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,KAAK,EAAE;YACnC,eAAe,OAAO,GAAG;YAEzB,uNAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ;YAE1B,IAAI;YACJ,MAAM;gDAAS;oBACX,IAAI,CAAC,UAAU,OAAO,EAAE;oBACxB,MAAM,eAAwE,CAAC;oBAC/E,uNAAM,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,OAAO,CAAC,KAAK,EAAE,OAAO;wDAAC,CAAC;4BACzD,IAAI,KAAK,KAAK,KAAK,UAAU,CAAC,kBAAkB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG;gCAClE,YAAY,CAAC,KAAK,EAAE,CAAC,GAAG;oCAAE,GAAG,KAAK,QAAQ,CAAC,CAAC;oCAAE,GAAG,KAAK,QAAQ,CAAC,CAAC;oCAAE,OAAO,KAAK,KAAK;gCAAC;4BACxF;wBACJ;;oBACA,SAAS;oBACT,mBAAmB,sBAAsB;gBAC7C;;YACA;YAEA,MAAM;0DAAmB,CAAC;oBACtB,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAE;wBAC5B,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;wBACzB,MAAM,OAAO,MAAM,KAAK,KAAK,SAAS,QAAS,MAAM,KAAK,KAAK,SAAS,QAAQ;wBAChF,IAAI,CAAC,QAAQ,AAAC,KAAa,SAAS,EAAE;wBAEtC,MAAM,YAAY,MAAM,KAAK,CAAC,UAAU,CAAC,UAAU,QAAS,MAAM,KAAK,CAAC,UAAU,CAAC,UAAU,QAAQ;wBACrG,MAAM,QAAQ,MAAM,KAAK,KAAK,UAAU,QAAS,MAAM,KAAK,KAAK,UAAU,QAAQ;wBAEnF,MAAM;oFAAgB,CAAC;gCACnB,IAAI,AAAC,KAAa,SAAS,EAAE;gCAC5B,KAAa,SAAS,GAAG;gCAC1B,gBAAgB,OAAO,CAAC,GAAG,CAAC;gCAC5B,kBAAkB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,+BAA+B;gCAEvE,iDAAiD;gCACjD;4FAAS,CAAA;wCACL,MAAM,UAAU;4CAAE,GAAG,IAAI;wCAAC;wCAC1B,OAAO,OAAO,CAAC,KAAK,EAAE,CAAC;wCACvB,OAAO;oCACX;;gCAEA,UAAU;gCACV,iFAAiF;gCACjF,IAAI,aAAa,CAAC,GAAG;oCACjB,cAAc;gCAClB;4BACJ;;wBAEA,IAAI,WAAW;4BACX,cAAc,SAAS,UAAU,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;wBACxD,OAAO,IAAI,OAAO;4BACd,cAAc,CAAC;wBACnB;oBACJ;gBACJ;;YAEA,uNAAM,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,kBAAkB;YAE3C;yCAAO;oBACH,qBAAqB;oBACrB,uNAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,kBAAkB;oBAC5C,IAAG,QAAQ,uNAAM,CAAC,MAAM,CAAC,IAAI,CAAC;oBAC9B,IAAG,QAAQ,uNAAM,CAAC,MAAM,CAAC,KAAK,CAAC;gBACnC;;QACF;gCAAG;QAAC;QAAe;KAAU;IAE7B,6BAA6B;IAC7B,IAAA,iTAAS;iCAAC;YACR,IAAI,UAAU,OAAO,EAAE;gBACrB,UAAU,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG;YACtC;QACF;gCAAG;QAAC;KAAQ;IAEZ,IAAA,iTAAS;iCAAC;YACR,IAAI,cAAc,gBAAgB,OAAO,EAAE;gBACvC,gBAAgB,OAAO,GAAG;gBAE1B,+DAA+D;gBAC/D,IAAI,eAAe,OAAO,IAAI,UAAU,OAAO,EAAE;oBAC7C,uNAAM,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,OAAO,CAAC,KAAK,EAAE,eAAe,OAAO;oBACnE,eAAe,OAAO,GAAG;gBAC7B;gBAEA,sEAAsE;gBACtE,uBAAuB;gBAEvB,IAAI,UAAU,OAAO,IAAI,eAAe;oBACpC,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG;oBAC/C,MAAM,eAAe,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI,aAAa;oBAC1D,MAAM,IAAI,aAAa;oBACvB,MAAM,OAAO,uNAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,YAAY,YAAY;wBACzD,OAAO;wBACP,aAAa;wBACb,UAAU;wBACV,MAAM;wBACN,SAAS;wBACT,iBAAiB;4BACb,OAAO,CAAC;4BACR,UAAU;4BACV,MAAM;wBACV;oBACJ;oBACA,uNAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,OAAO,CAAC,KAAK,EAAE;gBAClD;YACJ;QACF;gCAAG;QAAC;QAAa;KAAc;IAE/B,qBACE,oUAAC;QAAI,KAAK;QAAU,WAAU;;YAC3B,eAAe;YACf;YACA,OAAO,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACvB,MAAM,SAAS,SAAS;gBACxB,6BAA6B;gBAC7B,IAAI,kBAAkB,OAAO,CAAC,GAAG,CAAC,SAAS;oBACzC,OAAO;gBACT;gBACA,MAAM,MAAM,KAAK,CAAC,GAAG;gBACrB,qBACE,oUAAC;oBAAa,WAAU;oBAAwB,OAAO;wBACnD,YAAY;wBACZ,WAAW;wBACX,OAAO,gBAAgB,cAAc,UAAU,GAAG,IAAI;wBACtD,QAAQ,gBAAgB,cAAc,UAAU,GAAG,IAAI;wBACvD,MAAM,IAAI,CAAC;wBACX,KAAK,IAAI,CAAC;wBACV,WAAW,CAAC,6BAA6B,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC;oBAC9D;mBARU;;;;;YAUd;;;;;;;AAGN;GAjUM;KAAA;uCAmUS"}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///C:/25/nov-25/gamba/plinky/components/HistoryTable.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { GameResult } from '../types';\r\n\r\ninterface HistoryTableProps {\r\n  history: GameResult[];\r\n  totalGames: number;\r\n  totalPayout: number;\r\n}\r\n\r\nconst HistoryTable: React.FC<HistoryTableProps> = ({ history, totalGames, totalPayout }) => {\r\n  const stats = useMemo(() => {\r\n    if (totalGames === 0) {\r\n      return {\r\n        totalGames: 0,\r\n        totalPayout: 0,\r\n        totalBets: 0,\r\n        actualEV: 0,\r\n        actualRTP: 0,\r\n        totalProfit: 0,\r\n      };\r\n    }\r\n\r\n    const totalBets = totalGames; // Each game costs 1\r\n    const totalProfit = totalPayout - totalBets; // Total payout - total bets\r\n    const actualEV = totalPayout / totalGames; // Average payout per game\r\n    const actualRTP = totalPayout / totalBets; // Return to player percentage\r\n\r\n    return {\r\n      totalGames,\r\n      totalPayout,\r\n      totalBets,\r\n      actualEV,\r\n      actualRTP,\r\n      totalProfit,\r\n    };\r\n  }, [totalGames, totalPayout]);\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4\">\r\n      {totalGames > 0 && (\r\n        <div className=\"bg-gray-900/70 p-3 rounded-md space-y-2\">\r\n          <h4 className=\"font-semibold text-base text-white mb-3\">Actual Statistics</h4>\r\n          <div className=\"space-y-2 text-sm\">\r\n            <div className=\"flex justify-between text-gray-300\">\r\n              <span>Total Games:</span>\r\n              <span className=\"font-mono text-white\">{stats.totalGames}</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-gray-300\">\r\n              <span>Total Bets:</span>\r\n              <span className=\"font-mono text-white\">${stats.totalBets.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-gray-300\">\r\n              <span>Total Payout:</span>\r\n              <span className=\"font-mono text-white\">${stats.totalPayout.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-gray-300\">\r\n              <span>Total Profit:</span>\r\n              <span className=\"font-mono font-semibold\" style={{ color: stats.totalProfit >= 0 ? '#3e9c35' : '#ef4444' }}>\r\n                {stats.totalProfit >= 0 ? '+' : '-'}${Math.abs(stats.totalProfit).toFixed(2)}\r\n              </span>\r\n            </div>\r\n            <div className=\"border-t border-gray-700 pt-2 mt-2\">\r\n              <div className=\"flex justify-between text-gray-300\">\r\n                <span>Actual EV (Avg Payout):</span>\r\n                <span className=\"font-mono\" style={{ color: '#3e9c35' }}>{stats.actualEV.toFixed(4)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-gray-300 mt-1\">\r\n                <span>Actual RTP:</span>\r\n                <span className=\"font-mono\" style={{ color: '#3e9c35' }}>{(stats.actualRTP * 100).toFixed(2)}%</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"overflow-y-auto max-h-[60vh]\">\r\n        <table className=\"w-full text-sm text-left text-gray-300\">\r\n          <thead className=\"text-xs text-gray-400 uppercase bg-gray-700/50 sticky top-0\">\r\n            <tr>\r\n              <th scope=\"col\" className=\"px-4 py-2 font-mono\">Multiplier</th>\r\n              <th scope=\"col\" className=\"px-4 py-2 font-mono\">Payout</th>\r\n              <th scope=\"col\" className=\"px-4 py-2 font-mono text-right\">Profit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {history.length === 0 && (\r\n              <tr>\r\n                  <td colSpan={3} className=\"text-center py-8 text-gray-500\">No games played yet.</td>\r\n              </tr>\r\n            )}\r\n            {history.map(result => (\r\n              <tr key={result.id} className=\"border-b border-gray-700 hover:bg-gray-700/50\">\r\n                <td className=\"px-4 py-2 font-mono\">{result.multiplier.toFixed(2)}x</td>\r\n                <td className=\"px-4 py-2 font-mono\">${result.payout.toFixed(2)}</td>\r\n                <td className=\"px-4 py-2 font-mono text-right font-semibold\" style={{ color: result.profit >= 0 ? '#3e9c35' : '#ef4444' }}>\r\n                  {result.profit >= 0 ? '+' : '-'}${Math.abs(result.profit).toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryTable;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///C:/25/nov-25/gamba/plinky/App.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { sdk } from '@farcaster/miniapp-sdk';\nimport PlinkoBoard from './components/PlinkoBoard';\nimport HistoryTable from './components/HistoryTable';\nimport { GameResult } from './types';\nimport { MULTIPLIERS, ROWS, PHYSICS_CALIBRATION_COEFFICIENT, CALIBRATED_MULTIPLIERS } from './constants';\n\ntype DevToolsTab = 'devtools' | 'balance' | 'history';\n\nconst App: React.FC = () => {\n  const [balance, setBalance] = useState<number>(1000);\n  // Use calibrated multipliers if available, otherwise use base multipliers\n  const [multipliers, setMultipliers] = useState<number[]>(\n    CALIBRATED_MULTIPLIERS.length > 0 ? CALIBRATED_MULTIPLIERS : MULTIPLIERS\n  );\n  const [history, setHistory] = useState<GameResult[]>([]);\n  const [playTrigger, setPlayTrigger] = useState(0);\n  const [isDevToolsVisible, setIsDevToolsVisible] = useState(false);\n  const [devToolsTab, setDevToolsTab] = useState<DevToolsTab>('devtools');\n  const [lastPayout, setLastPayout] = useState<{ payout: number; key: number } | null>(null);\n  const [simulationResult, setSimulationResult] = useState<string | null>(null);\n  const [targetRTP, setTargetRTP] = useState(0.95);\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [notification, setNotification] = useState<{ message: string; type: 'success' | 'error' | 'info' } | null>(null);\n  const mainRef = useRef<HTMLElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [rowSpacing, setRowSpacing] = useState<number>(0);\n  const [containerHeight, setContainerHeight] = useState<number>(0);\n  \n  // Gravity calibration state - keep stable to maintain correct physics\n  const [gravity, setGravity] = useState<number>(0.1);\n  const binDistributionRef = useRef<number[]>([]); // Track wins per bin (cumulative, never reset)\n  const totalLossesRef = useRef<number>(0); // Track losses (ball hits floor) (cumulative)\n  const calibrationHistoryRef = useRef<{ rtp: number; scaleFactor: number; games: number }[]>([]); // Track calibration history\n  const totalGamesPlayedRef = useRef<number>(0); // Track all games played (cumulative, never reset)\n  const totalPayoutRef = useRef<number>(0); // Track total payout across all games (cumulative)\n  const lastCalibrationGamesRef = useRef<number>(0); // Track games since last calibration\n\n  const BET_AMOUNT = 1;\n\n  // Calculate binomial coefficient (n choose k)\n  const binomialCoefficient = (n: number, k: number): number => {\n    if (k > n - k) k = n - k;\n    let result = 1;\n    for (let i = 0; i < k; i++) {\n      result = result * (n - i) / (i + 1);\n    }\n    return result;\n  };\n\n  // Calculate exact probabilities for each bin using binomial distribution\n  const calculateBinProbabilities = useCallback((binCount: number): number[] => {\n    const probabilities: number[] = new Array(binCount).fill(0);\n    const totalPaths = Math.pow(2, ROWS);\n    \n    // Starting position is center: (binCount - 1) / 2\n    const centerPos = (binCount - 1) / 2;\n    \n    // For each possible number of right moves (0 to ROWS)\n    for (let rightMoves = 0; rightMoves <= ROWS; rightMoves++) {\n      const leftMoves = ROWS - rightMoves;\n      \n      // Calculate final position: center + (rightMoves - leftMoves) * 0.5\n      // Each move shifts by 0.5 positions\n      const finalPosition = centerPos + (rightMoves - leftMoves) * 0.5;\n      \n      // Round to nearest bin (bins are at integer positions 0, 1, 2, ..., binCount-1)\n      const targetBin = Math.round(finalPosition);\n      \n      // Clamp to valid bin range\n      if (targetBin >= 0 && targetBin < binCount) {\n        const ways = binomialCoefficient(ROWS, rightMoves);\n        probabilities[targetBin] += ways / totalPaths;\n      }\n    }\n    \n    return probabilities;\n  }, []);\n\n  // Calculate expected value deterministically\n  const calculateExpectedValue = useCallback((multipliers: number[]): number => {\n    const probabilities = calculateBinProbabilities(multipliers.length);\n    let ev = 0;\n    for (let i = 0; i < multipliers.length; i++) {\n      ev += probabilities[i] * multipliers[i];\n    }\n    return ev;\n  }, [calculateBinProbabilities]);\n\n  // Call sdk.ready() to clear the splash screen\n  useEffect(() => {\n    sdk.actions.ready().catch((error) => {\n      // Silently fail if not in a Mini App context\n      console.debug('Failed to call sdk.ready():', error);\n    });\n  }, []);\n\n  // Initialize bin distribution tracking (only on mount, never reset)\n  useEffect(() => {\n    if (binDistributionRef.current.length === 0) {\n      binDistributionRef.current = new Array(multipliers.length).fill(0);\n      totalLossesRef.current = 0;\n      lastCalibrationGamesRef.current = 0;\n    } else if (binDistributionRef.current.length !== multipliers.length) {\n      // If multiplier count changed, resize but preserve existing data\n      const oldLength = binDistributionRef.current.length;\n      binDistributionRef.current = [...binDistributionRef.current, ...new Array(multipliers.length - oldLength).fill(0)];\n    }\n  }, [multipliers.length]);\n\n  // Auto-calibrate multipliers on mount ONLY if no calibrated multipliers exist\n  // If CALIBRATED_MULTIPLIERS is set, use those directly (they're already calibrated)\n  useEffect(() => {\n    // If we already have calibrated multipliers, use them and skip auto-calibration\n    if (CALIBRATED_MULTIPLIERS.length > 0) {\n      console.log('Using pre-calibrated multipliers:', CALIBRATED_MULTIPLIERS);\n      return;\n    }\n\n    // Otherwise, apply initial calibration from base multipliers\n    const baseEV = calculateExpectedValue(MULTIPLIERS);\n    if (baseEV > 0) {\n      // Step 1: Scale to target RTP (95%)\n      const targetRTPFactor = 0.95 / baseEV;\n      // Step 2: Apply physics calibration coefficient to account for Matter.js physics differences\n      const finalScalingFactor = targetRTPFactor * PHYSICS_CALIBRATION_COEFFICIENT;\n      const newMultipliers = MULTIPLIERS.map(m => parseFloat((m * finalScalingFactor).toPrecision(3)));\n      setMultipliers(newMultipliers);\n      console.log('Auto-calibrated multipliers (dev mode):', {\n        baseEV: baseEV.toFixed(4),\n        targetRTPFactor: targetRTPFactor.toFixed(4),\n        physicsCoeff: PHYSICS_CALIBRATION_COEFFICIENT,\n        finalScalingFactor: finalScalingFactor.toFixed(4),\n        multipliers: newMultipliers\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Only run once on mount\n\n  // Calculate multipliers based on actual game distribution to achieve target RTP\n  // Uses PID-like control with cumulative tracking and gradual adjustments\n  const calibrateFromActualData = useCallback(() => {\n    const totalGames = totalGamesPlayedRef.current;\n    const gamesSinceLastCalibration = totalGames - lastCalibrationGamesRef.current;\n    \n    if (gamesSinceLastCalibration < 50) {\n      setNotification({ \n        message: `Need at least 50 new games since last calibration. You have ${gamesSinceLastCalibration} new games.`, \n        type: 'error' \n      });\n      setTimeout(() => setNotification(null), 5000);\n      return;\n    }\n\n    // Calculate actual probability distribution from ALL cumulative games\n    const actualProbs: number[] = [];\n    const totalWins = binDistributionRef.current.reduce((a, b) => a + b, 0);\n    \n    if (totalGames === 0 || totalWins === 0) {\n      setNotification({ \n        message: 'Cannot calibrate: no wins recorded.', \n        type: 'error' \n      });\n      setTimeout(() => setNotification(null), 5000);\n      return;\n    }\n    \n    for (let i = 0; i < multipliers.length; i++) {\n      actualProbs.push(binDistributionRef.current[i] / totalGames);\n    }\n\n    // Calculate current RTP with actual distribution and current multipliers\n    let currentRTP = 0;\n    for (let i = 0; i < multipliers.length; i++) {\n      currentRTP += actualProbs[i] * multipliers[i];\n    }\n\n    // Calculate error (difference from target)\n    const error = targetRTP - currentRTP;\n    const errorPercent = (error / targetRTP) * 100;\n\n    // PID-like control: Use proportional term with learning rate to prevent oscillation\n    // More aggressive learning rate when far from target, conservative when close\n    // Formula: learningRate = min(0.8, max(0.2, errorPercent / 50))\n    // This means: 20% min, up to 80% max, scales with error\n    // At 11% error: ~22% learning rate (was 11%)\n    // At 50% error: 80% learning rate\n    // At 5% error: 20% learning rate (conservative)\n    const learningRate = Math.min(0.8, Math.max(0.2, Math.abs(errorPercent) / 50));\n    \n    // Calculate desired scale factor\n    const desiredScaleFactor = targetRTP / currentRTP;\n    \n    // Apply learning rate: only adjust by a fraction to prevent oscillation\n    // Instead of: newMultiplier = oldMultiplier * desiredScaleFactor\n    // We do: newMultiplier = oldMultiplier * (1 + learningRate * (desiredScaleFactor - 1))\n    // This makes gradual adjustments\n    const adjustmentFactor = 1 + learningRate * (desiredScaleFactor - 1);\n    \n    // Apply gradual adjustment to multipliers\n    const calibratedMultipliers = multipliers.map(m => parseFloat((m * adjustmentFactor).toPrecision(3)));\n    setMultipliers(calibratedMultipliers);\n\n    // Record calibration history (keep last 10)\n    calibrationHistoryRef.current.push({\n      rtp: currentRTP,\n      scaleFactor: adjustmentFactor,\n      games: gamesSinceLastCalibration\n    });\n    if (calibrationHistoryRef.current.length > 10) {\n      calibrationHistoryRef.current.shift();\n    }\n\n    // Update last calibration point\n    lastCalibrationGamesRef.current = totalGames;\n\n    // Calculate expected new RTP (approximate)\n    const expectedNewRTP = currentRTP * adjustmentFactor;\n\n    setNotification({ \n      message: `Calibrated (${gamesSinceLastCalibration} new games, ${totalGames} total). Current RTP: ${(currentRTP * 100).toFixed(2)}% → Expected: ${(expectedNewRTP * 100).toFixed(2)}% (Target: ${(targetRTP * 100).toFixed(2)}%). Adjustment: ${(adjustmentFactor * 100).toFixed(2)}% (learning rate: ${(learningRate * 100).toFixed(1)}%)`, \n      type: 'success' \n    });\n    setTimeout(() => setNotification(null), 8000);\n  }, [multipliers, targetRTP]);\n\n  // Force calibration: apply full adjustment instead of gradual (for when close but not quite there)\n  const forceCalibrate = useCallback(() => {\n    const totalGames = totalGamesPlayedRef.current;\n    if (totalGames < 50) {\n      setNotification({ \n        message: `Need at least 50 games. You have ${totalGames} games.`, \n        type: 'error' \n      });\n      setTimeout(() => setNotification(null), 5000);\n      return;\n    }\n\n    const actualProbs: number[] = [];\n    const totalWins = binDistributionRef.current.reduce((a, b) => a + b, 0);\n    \n    if (totalGames === 0 || totalWins === 0) {\n      setNotification({ \n        message: 'Cannot calibrate: no wins recorded.', \n        type: 'error' \n      });\n      setTimeout(() => setNotification(null), 5000);\n      return;\n    }\n    \n    for (let i = 0; i < multipliers.length; i++) {\n      actualProbs.push(binDistributionRef.current[i] / totalGames);\n    }\n\n    let currentRTP = 0;\n    for (let i = 0; i < multipliers.length; i++) {\n      currentRTP += actualProbs[i] * multipliers[i];\n    }\n\n    if (currentRTP === 0) {\n      setNotification({ \n        message: 'Cannot calibrate: no wins recorded.', \n        type: 'error' \n      });\n      setTimeout(() => setNotification(null), 5000);\n      return;\n    }\n\n    // Force full adjustment to target\n    const scaleFactor = targetRTP / currentRTP;\n    const calibratedMultipliers = multipliers.map(m => parseFloat((m * scaleFactor).toPrecision(3)));\n    setMultipliers(calibratedMultipliers);\n\n    lastCalibrationGamesRef.current = totalGames;\n\n    setNotification({ \n      message: `Force calibrated (${totalGames} games). RTP: ${(currentRTP * 100).toFixed(2)}% → Target: ${(targetRTP * 100).toFixed(2)}%. Scale: ${(scaleFactor * 100).toFixed(2)}%`, \n      type: 'success' \n    });\n    setTimeout(() => setNotification(null), 8000);\n  }, [multipliers, targetRTP]);\n\n  // Export calibrated multipliers to constants.ts (dev tool)\n  const exportCalibratedMultipliers = useCallback(() => {\n    const multiplierString = multipliers.map(m => m.toFixed(3)).join(', ');\n    const codeToCopy = `export const CALIBRATED_MULTIPLIERS: number[] = [${multiplierString}];`;\n    \n    // Copy to clipboard\n    navigator.clipboard.writeText(codeToCopy).then(() => {\n      setNotification({\n        message: `Calibrated multipliers copied to clipboard! Paste into constants.ts:\\n\\n${codeToCopy}\\n\\nAfter saving, reload the page to use pre-calibrated multipliers.`,\n        type: 'success'\n      });\n      setTimeout(() => setNotification(null), 12000);\n    }).catch(() => {\n      // Fallback: show in alert-style notification\n      setNotification({\n        message: `Copy this to constants.ts:\\n\\n${codeToCopy}`,\n        type: 'info'\n      });\n      setTimeout(() => setNotification(null), 15000);\n    });\n  }, [multipliers]);\n\n  // Calculate perfect container height based on width for even row divisions\n  // Container = header (vSpacing) + main + footer (vSpacing)\n  // Main = space above ball (vSpacing) + ball-to-row0 (vSpacing) + between rows (ROWS-1)*vSpacing + space after last peg (vSpacing) + to bins (vSpacing) = (ROWS+3)*vSpacing\n  // So: containerHeight = 2*vSpacing + (ROWS+3)*vSpacing + bottomPadding = (ROWS+5)*vSpacing + bottomPadding\n  useEffect(() => {\n    const updateContainer = () => {\n      if (!containerRef.current) return;\n      const width = containerRef.current.clientWidth || window.innerWidth;\n      const binCount = multipliers.length;\n      const hSpacing = width / binCount;\n      const bottomPadding = hSpacing;\n      \n      const screenHeight = window.innerHeight;\n      const totalSpacings = ROWS + 5; // header + above ball + between rows + after last peg + to bins + footer\n      \n      // Calculate vSpacing that fits screen\n      const estimatedVSpacing = (screenHeight - bottomPadding) / totalSpacings;\n      \n      // Calculate perfect container height (must be exactly divisible)\n      const perfectHeight = estimatedVSpacing * totalSpacings + bottomPadding;\n      \n      // Constrain to screen but keep perfect division\n      const finalHeight = Math.min(perfectHeight, screenHeight);\n      const finalVSpacing = (finalHeight - bottomPadding) / totalSpacings;\n      \n      setContainerHeight(finalHeight);\n      setRowSpacing(finalVSpacing);\n    };\n    \n    // Wait for container to be rendered\n    const timeoutId = setTimeout(updateContainer, 0);\n    window.addEventListener('resize', updateContainer);\n    return () => {\n      clearTimeout(timeoutId);\n      window.removeEventListener('resize', updateContainer);\n    };\n  }, [multipliers]);\n\n  const handlePlay = useCallback(() => {\n    if (balance < BET_AMOUNT) {\n      return;\n    }\n    setLastPayout(null); // Clear payout display when starting new play\n    setBalance(prev => prev - BET_AMOUNT);\n    setPlayTrigger(prev => prev + 1);\n  }, [balance]);\n\n  // Calculate expected distribution (binomial)\n  const getExpectedDistribution = useCallback((): number[] => {\n    return calculateBinProbabilities(multipliers.length);\n  }, [multipliers.length, calculateBinProbabilities]);\n\n  // Disabled auto-calibration - gravity changes affect physics and break RTP\n  // Multipliers are auto-calibrated on mount using PHYSICS_CALIBRATION_COEFFICIENT\n  const calibrateGravity = useCallback(() => {\n    // Auto-calibration disabled - keeping gravity stable at 0.1\n  }, []);\n\n  const handleGameEnd = useCallback((finalBinIndex: number) => {\n    const isLoss = finalBinIndex === -1;\n    const multiplier = isLoss ? 0 : multipliers[finalBinIndex];\n    const payout = BET_AMOUNT * multiplier;\n    const profit = payout - BET_AMOUNT;\n\n    // Track distribution for calibration\n    if (isLoss) {\n      totalLossesRef.current++;\n    } else if (finalBinIndex >= 0 && finalBinIndex < multipliers.length) {\n      binDistributionRef.current[finalBinIndex]++;\n    }\n\n    // Track all games and total payout for accurate RTP calculation\n    totalGamesPlayedRef.current++;\n    totalPayoutRef.current += payout;\n\n    setBalance(prev => prev + payout);\n    const newResult: GameResult = {\n      id: Date.now() + Math.random(),\n      multiplier,\n      payout,\n      profit,\n    };\n    // Store all games in history (no limit)\n    setHistory(prev => [newResult, ...prev]);\n    setLastPayout({ payout, key: Date.now() });\n  }, [multipliers, calibrateGravity]);\n  \n  const runSimulation = (simMultipliers: number[], runs: number) => {\n    let totalPayout = 0;\n    const binCount = simMultipliers.length;\n    for (let i = 0; i < runs; i++) {\n        let position = (binCount - 1) / 2;\n        for (let j = 0; j < ROWS; j++) {\n            position += Math.random() < 0.5 ? -0.5 : 0.5;\n        }\n        const finalBinIndex = Math.max(0, Math.min(binCount - 1, Math.round(position)));\n        totalPayout += simMultipliers[finalBinIndex];\n    }\n    return totalPayout / runs;\n  }\n\n  const handleSimulate = useCallback(async () => {\n    setIsCalculating(true);\n    \n    // Show actual game history RTP if available - use all games played, not just history array\n    let actualHistoryRTP: number | null = null;\n    const totalGamesPlayed = totalGamesPlayedRef.current;\n    if (totalGamesPlayed > 0) {\n      actualHistoryRTP = totalPayoutRef.current / totalGamesPlayed;\n    }\n    \n    setSimulationResult('Running simulations...\\nThis may take a moment...');\n    \n    // Run simulations - track both bin indices and payouts\n    const binIndices: number[] = [];\n    const simulationPayouts: number[] = [];\n    const binCount = multipliers.length;\n    \n    // Simulate 200 games for better accuracy\n    for (let i = 0; i < 200; i++) {\n      let position = (binCount - 1) / 2;\n      for (let j = 0; j < ROWS; j++) {\n        position += Math.random() < 0.5 ? -0.5 : 0.5;\n      }\n      const finalBinIndex = Math.max(0, Math.min(binCount - 1, Math.round(position)));\n      binIndices.push(finalBinIndex);\n      simulationPayouts.push(multipliers[finalBinIndex]);\n    }\n    \n    // Calculate RTP from simulation results\n    const totalPayout = simulationPayouts.reduce((sum, payout) => sum + payout, 0);\n    const simulationRTP = totalPayout / 200;\n    const houseEdge = (1 - simulationRTP) * 100;\n    \n    // Count bin distribution\n    const binCounts = new Array(binCount).fill(0);\n    binIndices.forEach(binIdx => {\n      binCounts[binIdx]++;\n    });\n    \n    // Compare with theoretical\n    const theoreticalEV = calculateExpectedValue(multipliers);\n    const theoreticalRTP = theoreticalEV;\n    \n    let resultText = `=== RTP ANALYSIS ===\\n\\n`;\n    \n    if (actualHistoryRTP !== null) {\n      resultText += `🎯 ACTUAL GAME RTP (${totalGamesPlayed} games): ${(actualHistoryRTP * 100).toFixed(2)}%\\n`;\n      resultText += `   This is REAL data from your games!\\n\\n`;\n    }\n    \n    resultText += `📊 Simulation RTP (200 games): ${(simulationRTP * 100).toFixed(2)}%\\n`;\n    resultText += `📐 Theoretical RTP (math): ${(theoreticalRTP * 100).toFixed(2)}%\\n`;\n    resultText += `📉 Difference: ${((simulationRTP - theoreticalRTP) * 100).toFixed(2)}%\\n`;\n    resultText += `💰 House Edge: ${houseEdge.toFixed(2)}%\\n\\n`;\n    \n    if (actualHistoryRTP !== null) {\n      const diffFromActual = ((simulationRTP - actualHistoryRTP) * 100);\n      resultText += `⚠️  Simulation vs Actual: ${diffFromActual > 0 ? '+' : ''}${diffFromActual.toFixed(2)}%\\n`;\n      resultText += `   (Simulation may not match physics exactly)\\n\\n`;\n    }\n    \n    resultText += `Bin Distribution (from simulation):\\n`;\n    binCounts.forEach((count, i) => {\n      const percentage = (count / 200) * 100;\n      resultText += `Bin ${i}: ${count} games (${percentage.toFixed(1)}%) → ${multipliers[i]}x\\n`;\n    });\n    \n    if (totalGamesPlayed >= 50 && actualHistoryRTP !== null) {\n      // Calculate actual bin probabilities\n      const actualProbs: number[] = [];\n      const totalWins = binDistributionRef.current.reduce((a, b) => a + b, 0);\n      for (let i = 0; i < multipliers.length; i++) {\n        actualProbs.push(binDistributionRef.current[i] / totalGamesPlayed);\n      }\n      \n      // Calculate what RTP would be with current multipliers and actual distribution\n      let actualRTPWithCurrentMultipliers = 0;\n      for (let i = 0; i < multipliers.length; i++) {\n        actualRTPWithCurrentMultipliers += actualProbs[i] * multipliers[i];\n      }\n      \n      const error = targetRTP - actualRTPWithCurrentMultipliers;\n      const errorPercent = (error / targetRTP) * 100;\n      \n      resultText += `\\n\\n🔧 CALIBRATION INFO (Cumulative):\\n`;\n      resultText += `   Total Games: ${totalGamesPlayed} (${totalGamesPlayed - lastCalibrationGamesRef.current} since last calibration)\\n`;\n      resultText += `   Current RTP (actual games): ${(actualHistoryRTP * 100).toFixed(2)}%\\n`;\n      resultText += `   Current RTP (with actual distribution): ${(actualRTPWithCurrentMultipliers * 100).toFixed(2)}%\\n`;\n      resultText += `   Target RTP: ${(targetRTP * 100).toFixed(2)}%\\n`;\n      resultText += `   Error: ${errorPercent > 0 ? '+' : ''}${errorPercent.toFixed(2)}%\\n\\n`;\n      \n      if (calibrationHistoryRef.current.length > 0) {\n        resultText += `   Calibration History (last ${calibrationHistoryRef.current.length}):\\n`;\n        calibrationHistoryRef.current.slice(-5).forEach((cal, idx) => {\n          resultText += `     ${idx + 1}. RTP: ${(cal.rtp * 100).toFixed(2)}%, Scale: ${(cal.scaleFactor * 100).toFixed(2)}%, Games: ${cal.games}\\n`;\n        });\n      }\n      \n      resultText += `\\n   Actual Bin Distribution (cumulative):\\n`;\n      actualProbs.forEach((prob, i) => {\n        resultText += `     Bin ${i}: ${(prob * 100).toFixed(1)}% (${binDistributionRef.current[i]} games)\\n`;\n      });\n    } else if (totalGamesPlayed < 50) {\n      resultText += `\\n💡 Tip: Play 50+ games to see calibration recommendations.`;\n    }\n    \n    setSimulationResult(resultText);\n    setIsCalculating(false);\n  }, [multipliers, calculateExpectedValue, targetRTP]);\n  \n\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white flex justify-center\">\n      <div \n        ref={containerRef}\n        className=\"relative bg-gradient-to-b from-gray-800 to-black shadow-2xl flex flex-col overflow-hidden w-full\"\n        style={{ \n          height: containerHeight || '100vh',\n          maxHeight: '100vh'\n        }}\n      >\n        \n        <div className=\"absolute top-4 left-0 right-0 flex justify-center z-10 pointer-events-none\">\n           {lastPayout && (\n              <span key={lastPayout.key} className=\"font-mono text-4xl font-bold\" style={{ color: '#3e9c35' }}>\n                +${lastPayout.payout.toFixed(2)}\n              </span>\n            )}\n        </div>\n\n        {notification && (\n          <div className=\"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 pointer-events-auto max-w-md w-full px-4\">\n            <div \n              className={`p-4 rounded-lg shadow-lg border-2 ${\n                notification.type === 'success' \n                  ? 'bg-green-900/95 border-green-600 text-green-100' \n                  : notification.type === 'error'\n                  ? 'bg-red-900/95 border-red-600 text-red-100'\n                  : 'bg-blue-900/95 border-blue-600 text-blue-100'\n              }`}\n            >\n              <div className=\"flex items-start justify-between\">\n                <p className=\"text-sm font-medium flex-1\">{notification.message}</p>\n                <button \n                  onClick={() => setNotification(null)}\n                  className=\"ml-4 text-lg leading-none opacity-70 hover:opacity-100\"\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <header \n          className=\"absolute top-0 left-0 right-0 px-4 flex justify-end items-center z-20\"\n          style={{ height: rowSpacing || 'auto', paddingTop: rowSpacing ? `${rowSpacing * 0.25}px` : '1rem', paddingBottom: rowSpacing ? `${rowSpacing * 0.25}px` : '1rem' }}\n        >\n          <button onClick={() => setIsDevToolsVisible(true)} className=\"bg-purple-700/50 hover:bg-purple-700/80 text-white font-semibold py-1 px-2 rounded-lg text-xs transition-colors\">\n            Dev Tools\n          </button>\n        </header>\n\n        <main ref={mainRef} className=\"flex-grow\" style={{ paddingTop: rowSpacing || 0 }}>\n           <PlinkoBoard \n              multipliers={multipliers}\n              playTrigger={playTrigger}\n              onGameEnd={handleGameEnd}\n              gravity={gravity}\n          />\n        </main>\n        \n        <footer \n          className=\"px-4 bg-gradient-to-t from-black/80 to-transparent flex justify-center items-center\"\n          style={{ height: rowSpacing || 'auto', paddingTop: rowSpacing ? `${rowSpacing * 0.25}px` : '1rem', paddingBottom: rowSpacing ? `${rowSpacing * 0.25}px` : '1rem' }}\n        >\n            <button\n                onClick={handlePlay}\n                disabled={balance < BET_AMOUNT}\n                className=\"w-full text-gray-900 font-bold py-3 rounded-md text-lg uppercase transition-all duration-300 disabled:from-gray-600 disabled:to-gray-700 disabled:text-gray-400 disabled:shadow-none\"\n                style={{\n                    background: balance < BET_AMOUNT ? 'linear-gradient(to right, #4b5563, #374151)' : 'linear-gradient(to right, #168118, #157811)',\n                    boxShadow: balance < BET_AMOUNT ? 'none' : '0 0 5px #168118, 0 0 10px #168118'\n                }}\n                onMouseEnter={(e) => {\n                    if (balance >= BET_AMOUNT) {\n                        e.currentTarget.style.background = 'linear-gradient(to right, #3e9c35, #168118)';\n                    }\n                }}\n                onMouseLeave={(e) => {\n                    if (balance >= BET_AMOUNT) {\n                        e.currentTarget.style.background = 'linear-gradient(to right, #168118, #157811)';\n                    }\n                }}\n            >\n                PLAY\n            </button>\n        </footer>\n\n        {isDevToolsVisible && (\n            <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm z-40 flex items-center justify-center p-2 sm:p-4 overflow-y-auto\" onClick={() => setIsDevToolsVisible(false)}>\n                <div className=\"w-full max-w-md bg-gray-800 rounded-lg shadow-xl flex flex-col max-h-[95vh] my-auto\" onClick={e => e.stopPropagation()}>\n                    <div className=\"p-4 flex justify-between items-center border-b border-gray-700 flex-shrink-0 sticky top-0 bg-gray-800 z-10\">\n                        <h3 className=\"text-lg font-semibold text-white\">Dashboard</h3>\n                        <button onClick={() => setIsDevToolsVisible(false)} className=\"text-gray-400 hover:text-white text-2xl leading-none font-bold\">&times;</button>\n                    </div>\n                    \n                    <div className=\"flex border-b border-gray-700 flex-shrink-0 bg-gray-800\">\n                        <button onClick={() => setDevToolsTab('devtools')} className={`flex-1 py-2 text-sm font-semibold transition-colors ${devToolsTab === 'devtools' ? 'border-b-2' : 'text-gray-400 hover:text-gray-200'}`} style={devToolsTab === 'devtools' ? { color: '#3e9c35', borderColor: '#3e9c35' } : {}}>Dev Tools</button>\n                        <button onClick={() => setDevToolsTab('balance')} className={`flex-1 py-2 text-sm font-semibold transition-colors ${devToolsTab === 'balance' ? 'border-b-2' : 'text-gray-400 hover:text-gray-200'}`} style={devToolsTab === 'balance' ? { color: '#3e9c35', borderColor: '#3e9c35' } : {}}>Balance</button>\n                        <button onClick={() => setDevToolsTab('history')} className={`flex-1 py-2 text-sm font-semibold transition-colors ${devToolsTab === 'history' ? 'border-b-2' : 'text-gray-400 hover:text-gray-200'}`} style={devToolsTab === 'history' ? { color: '#3e9c35', borderColor: '#3e9c35' } : {}}>History</button>\n                    </div>\n                    \n                    <div className=\"overflow-y-auto flex-1 min-h-0\">\n\n                    {devToolsTab === 'devtools' && (\n                        <div className=\"p-4 space-y-4\">\n                            <div className=\"bg-gray-900/70 p-3 rounded-md space-y-3\">\n                                <h4 className=\"font-semibold text-base text-white\">Gravity Calibration</h4>\n                                <div>\n                                    <label className=\"flex justify-between text-sm text-gray-300\">\n                                      <span>Current Gravity</span>\n                                      <span className=\"font-mono\" style={{ color: '#3e9c35' }}>{gravity.toFixed(3)}</span>\n                                    </label>\n                                    <div className=\"mt-2 text-xs text-gray-400\">\n                                      Distribution: {binDistributionRef.current.reduce((a, b) => a + b, 0)} games tracked\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"bg-gray-900/70 p-3 rounded-md space-y-3\">\n                                <h4 className=\"font-semibold text-base text-white\">RTP Analysis</h4>\n                                <p className=\"text-xs text-gray-400\">\n                                    Check actual RTP from game history and simulations. Multipliers are auto-calibrated on load.\n                                </p>\n                                <button onClick={handleSimulate} disabled={isCalculating} className=\"w-full text-white px-4 py-2 rounded transition-colors disabled:bg-gray-600 mb-2\" style={{ backgroundColor: 'rgba(22, 129, 24, 0.8)' }} onMouseEnter={(e) => !isCalculating && (e.currentTarget.style.backgroundColor = 'rgba(22, 129, 24, 1)')} onMouseLeave={(e) => !isCalculating && (e.currentTarget.style.backgroundColor = 'rgba(22, 129, 24, 0.8)')}>\n                                    {isCalculating ? 'Calculating...' : 'Check Current RTP'}\n                                </button>\n                                <button \n                                    onClick={calibrateFromActualData} \n                                    disabled={(totalGamesPlayedRef.current - lastCalibrationGamesRef.current) < 50}\n                                    className=\"w-full text-white px-4 py-2 rounded transition-colors disabled:bg-gray-600 disabled:text-gray-400\" \n                                    style={{ backgroundColor: (totalGamesPlayedRef.current - lastCalibrationGamesRef.current) >= 50 ? 'rgba(139, 69, 19, 0.8)' : 'rgba(75, 75, 75, 0.8)' }} \n                                    onMouseEnter={(e) => (totalGamesPlayedRef.current - lastCalibrationGamesRef.current) >= 50 && !isCalculating && (e.currentTarget.style.backgroundColor = 'rgba(139, 69, 19, 1)')} \n                                    onMouseLeave={(e) => (totalGamesPlayedRef.current - lastCalibrationGamesRef.current) >= 50 && (e.currentTarget.style.backgroundColor = 'rgba(139, 69, 19, 0.8)')}\n                                >\n                                    {(totalGamesPlayedRef.current - lastCalibrationGamesRef.current) >= 50 \n                                      ? `Calibrate (${totalGamesPlayedRef.current - lastCalibrationGamesRef.current} new games, ${totalGamesPlayedRef.current} total)` \n                                      : `Need 50+ new games (${totalGamesPlayedRef.current - lastCalibrationGamesRef.current} new, ${totalGamesPlayedRef.current} total)`}\n                                </button>\n                                <button \n                                    onClick={forceCalibrate}\n                                    disabled={totalGamesPlayedRef.current < 50}\n                                    className=\"w-full text-white px-4 py-2 rounded transition-colors mt-2 disabled:bg-gray-600 disabled:text-gray-400\" \n                                    style={{ backgroundColor: totalGamesPlayedRef.current >= 50 ? 'rgba(220, 38, 38, 0.8)' : 'rgba(75, 75, 75, 0.8)' }} \n                                    onMouseEnter={(e) => totalGamesPlayedRef.current >= 50 && (e.currentTarget.style.backgroundColor = 'rgba(220, 38, 38, 1)')} \n                                    onMouseLeave={(e) => totalGamesPlayedRef.current >= 50 && (e.currentTarget.style.backgroundColor = 'rgba(220, 38, 38, 0.8)')}\n                                >\n                                    ⚡ Force Calibrate (Full Adjustment to 95%)\n                                </button>\n                                <button \n                                    onClick={exportCalibratedMultipliers}\n                                    className=\"w-full text-white px-4 py-2 rounded transition-colors mt-2\" \n                                    style={{ backgroundColor: 'rgba(59, 130, 246, 0.8)' }} \n                                    onMouseEnter={(e) => (e.currentTarget.style.backgroundColor = 'rgba(59, 130, 246, 1)')} \n                                    onMouseLeave={(e) => (e.currentTarget.style.backgroundColor = 'rgba(59, 130, 246, 0.8)')}\n                                >\n                                    📋 Save Calibrated Multipliers to constants.ts\n                                </button>\n                                {CALIBRATED_MULTIPLIERS.length > 0 && (\n                                    <div className=\"mt-2 p-2 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-200\">\n                                        <strong>✅ Pre-calibrated:</strong> Using calibrated multipliers from constants.ts. Game is ready to ship!\n                                    </div>\n                                )}\n                                {totalGamesPlayedRef.current >= 50 && (\n                                    <div className=\"mt-2 p-2 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-200\">\n                                        <strong>💡 Dev Calibration:</strong> Play 200+ games, calibrate until RTP is ~95%, then click \"Save Calibrated Multipliers\" to export. The game will ship pre-calibrated!\n                                    </div>\n                                )}\n                            </div>\n                            {simulationResult && (\n                                <div className=\"bg-gray-900 p-3 rounded mt-2\">\n                                    <pre className=\"text-xs text-white whitespace-pre-wrap font-mono\">{simulationResult}</pre>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                    {devToolsTab === 'balance' && (\n                        <div className=\"p-4 text-center\">\n                            <span className=\"text-sm text-gray-400\">Current Balance</span>\n                            <p className=\"font-mono text-3xl mt-1\">${balance.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</p>\n                        </div>\n                    )}\n                    {devToolsTab === 'history' && (\n                        <HistoryTable \n                            history={history} \n                            totalGames={totalGamesPlayedRef.current}\n                            totalPayout={totalPayoutRef.current}\n                        />\n                    )}\n                    </div>\n                </div>\n            </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AAEA;;;AAPA;;;;;;AAWA,MAAM,MAAgB;;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gTAAQ,EAAS;IAC/C,0EAA0E;IAC1E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gTAAQ,EAC5C,sIAAsB,CAAC,MAAM,GAAG,IAAI,sIAAsB,GAAG,2HAAW;IAE1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gTAAQ,EAAe,EAAE;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gTAAQ,EAAC;IAC/C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gTAAQ,EAAC;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gTAAQ,EAAc;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gTAAQ,EAAyC;IACrF,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gTAAQ,EAAgB;IACxE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gTAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gTAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gTAAQ,EAAiE;IACjH,MAAM,UAAU,IAAA,8SAAM,EAAc;IACpC,MAAM,eAAe,IAAA,8SAAM,EAAiB;IAC5C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gTAAQ,EAAS;IACrD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gTAAQ,EAAS;IAE/D,sEAAsE;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gTAAQ,EAAS;IAC/C,MAAM,qBAAqB,IAAA,8SAAM,EAAW,EAAE,GAAG,+CAA+C;IAChG,MAAM,iBAAiB,IAAA,8SAAM,EAAS,IAAI,8CAA8C;IACxF,MAAM,wBAAwB,IAAA,8SAAM,EAAwD,EAAE,GAAG,4BAA4B;IAC7H,MAAM,sBAAsB,IAAA,8SAAM,EAAS,IAAI,mDAAmD;IAClG,MAAM,iBAAiB,IAAA,8SAAM,EAAS,IAAI,mDAAmD;IAC7F,MAAM,0BAA0B,IAAA,8SAAM,EAAS,IAAI,qCAAqC;IAExF,MAAM,aAAa;IAEnB,8CAA8C;IAC9C,MAAM,sBAAsB,CAAC,GAAW;QACtC,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI;QACvB,IAAI,SAAS;QACb,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;YAC1B,SAAS,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QACpC;QACA,OAAO;IACT;IAEA,yEAAyE;IACzE,MAAM,4BAA4B,IAAA,mTAAW;sDAAC,CAAC;YAC7C,MAAM,gBAA0B,IAAI,MAAM,UAAU,IAAI,CAAC;YACzD,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,oHAAI;YAEnC,kDAAkD;YAClD,MAAM,YAAY,CAAC,WAAW,CAAC,IAAI;YAEnC,sDAAsD;YACtD,IAAK,IAAI,aAAa,GAAG,cAAc,oHAAI,EAAE,aAAc;gBACzD,MAAM,YAAY,oHAAI,GAAG;gBAEzB,oEAAoE;gBACpE,oCAAoC;gBACpC,MAAM,gBAAgB,YAAY,CAAC,aAAa,SAAS,IAAI;gBAE7D,gFAAgF;gBAChF,MAAM,YAAY,KAAK,KAAK,CAAC;gBAE7B,2BAA2B;gBAC3B,IAAI,aAAa,KAAK,YAAY,UAAU;oBAC1C,MAAM,OAAO,oBAAoB,oHAAI,EAAE;oBACvC,aAAa,CAAC,UAAU,IAAI,OAAO;gBACrC;YACF;YAEA,OAAO;QACT;qDAAG,EAAE;IAEL,6CAA6C;IAC7C,MAAM,yBAAyB,IAAA,mTAAW;mDAAC,CAAC;YAC1C,MAAM,gBAAgB,0BAA0B,YAAY,MAAM;YAClE,IAAI,KAAK;YACT,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;gBAC3C,MAAM,aAAa,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE;YACzC;YACA,OAAO;QACT;kDAAG;QAAC;KAA0B;IAE9B,8CAA8C;IAC9C,IAAA,iTAAS;yBAAC;YACR,0QAAG,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK;iCAAC,CAAC;oBACzB,6CAA6C;oBAC7C,QAAQ,KAAK,CAAC,+BAA+B;gBAC/C;;QACF;wBAAG,EAAE;IAEL,oEAAoE;IACpE,IAAA,iTAAS;yBAAC;YACR,IAAI,mBAAmB,OAAO,CAAC,MAAM,KAAK,GAAG;gBAC3C,mBAAmB,OAAO,GAAG,IAAI,MAAM,YAAY,MAAM,EAAE,IAAI,CAAC;gBAChE,eAAe,OAAO,GAAG;gBACzB,wBAAwB,OAAO,GAAG;YACpC,OAAO,IAAI,mBAAmB,OAAO,CAAC,MAAM,KAAK,YAAY,MAAM,EAAE;gBACnE,iEAAiE;gBACjE,MAAM,YAAY,mBAAmB,OAAO,CAAC,MAAM;gBACnD,mBAAmB,OAAO,GAAG;uBAAI,mBAAmB,OAAO;uBAAK,IAAI,MAAM,YAAY,MAAM,GAAG,WAAW,IAAI,CAAC;iBAAG;YACpH;QACF;wBAAG;QAAC,YAAY,MAAM;KAAC;IAEvB,8EAA8E;IAC9E,oFAAoF;IACpF,IAAA,iTAAS;yBAAC;YACR,gFAAgF;YAChF,IAAI,sIAAsB,CAAC,MAAM,GAAG,GAAG;gBACrC,QAAQ,GAAG,CAAC,qCAAqC,sIAAsB;gBACvE;YACF;YAEA,6DAA6D;YAC7D,MAAM,SAAS,uBAAuB,2HAAW;YACjD,IAAI,SAAS,GAAG;gBACd,oCAAoC;gBACpC,MAAM,kBAAkB,OAAO;gBAC/B,6FAA6F;gBAC7F,MAAM,qBAAqB,kBAAkB,+IAA+B;gBAC5E,MAAM,iBAAiB,2HAAW,CAAC,GAAG;oDAAC,CAAA,IAAK,WAAW,CAAC,IAAI,kBAAkB,EAAE,WAAW,CAAC;;gBAC5F,eAAe;gBACf,QAAQ,GAAG,CAAC,2CAA2C;oBACrD,QAAQ,OAAO,OAAO,CAAC;oBACvB,iBAAiB,gBAAgB,OAAO,CAAC;oBACzC,cAAc,+IAA+B;oBAC7C,oBAAoB,mBAAmB,OAAO,CAAC;oBAC/C,aAAa;gBACf;YACF;QACA,uDAAuD;QACzD;wBAAG,EAAE,GAAG,yBAAyB;IAEjC,gFAAgF;IAChF,yEAAyE;IACzE,MAAM,0BAA0B,IAAA,mTAAW;oDAAC;YAC1C,MAAM,aAAa,oBAAoB,OAAO;YAC9C,MAAM,4BAA4B,aAAa,wBAAwB,OAAO;YAE9E,IAAI,4BAA4B,IAAI;gBAClC,gBAAgB;oBACd,SAAS,CAAC,4DAA4D,EAAE,0BAA0B,WAAW,CAAC;oBAC9G,MAAM;gBACR;gBACA;gEAAW,IAAM,gBAAgB;+DAAO;gBACxC;YACF;YAEA,sEAAsE;YACtE,MAAM,cAAwB,EAAE;YAChC,MAAM,YAAY,mBAAmB,OAAO,CAAC,MAAM;sEAAC,CAAC,GAAG,IAAM,IAAI;qEAAG;YAErE,IAAI,eAAe,KAAK,cAAc,GAAG;gBACvC,gBAAgB;oBACd,SAAS;oBACT,MAAM;gBACR;gBACA;gEAAW,IAAM,gBAAgB;+DAAO;gBACxC;YACF;YAEA,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;gBAC3C,YAAY,IAAI,CAAC,mBAAmB,OAAO,CAAC,EAAE,GAAG;YACnD;YAEA,yEAAyE;YACzE,IAAI,aAAa;YACjB,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;gBAC3C,cAAc,WAAW,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE;YAC/C;YAEA,2CAA2C;YAC3C,MAAM,QAAQ,YAAY;YAC1B,MAAM,eAAe,AAAC,QAAQ,YAAa;YAE3C,oFAAoF;YACpF,8EAA8E;YAC9E,gEAAgE;YAChE,wDAAwD;YACxD,6CAA6C;YAC7C,kCAAkC;YAClC,gDAAgD;YAChD,MAAM,eAAe,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,gBAAgB;YAE1E,iCAAiC;YACjC,MAAM,qBAAqB,YAAY;YAEvC,wEAAwE;YACxE,iEAAiE;YACjE,uFAAuF;YACvF,iCAAiC;YACjC,MAAM,mBAAmB,IAAI,eAAe,CAAC,qBAAqB,CAAC;YAEnE,0CAA0C;YAC1C,MAAM,wBAAwB,YAAY,GAAG;kFAAC,CAAA,IAAK,WAAW,CAAC,IAAI,gBAAgB,EAAE,WAAW,CAAC;;YACjG,eAAe;YAEf,4CAA4C;YAC5C,sBAAsB,OAAO,CAAC,IAAI,CAAC;gBACjC,KAAK;gBACL,aAAa;gBACb,OAAO;YACT;YACA,IAAI,sBAAsB,OAAO,CAAC,MAAM,GAAG,IAAI;gBAC7C,sBAAsB,OAAO,CAAC,KAAK;YACrC;YAEA,gCAAgC;YAChC,wBAAwB,OAAO,GAAG;YAElC,2CAA2C;YAC3C,MAAM,iBAAiB,aAAa;YAEpC,gBAAgB;gBACd,SAAS,CAAC,YAAY,EAAE,0BAA0B,YAAY,EAAE,WAAW,sBAAsB,EAAE,CAAC,aAAa,GAAG,EAAE,OAAO,CAAC,GAAG,cAAc,EAAE,CAAC,iBAAiB,GAAG,EAAE,OAAO,CAAC,GAAG,WAAW,EAAE,CAAC,YAAY,GAAG,EAAE,OAAO,CAAC,GAAG,gBAAgB,EAAE,CAAC,mBAAmB,GAAG,EAAE,OAAO,CAAC,GAAG,kBAAkB,EAAE,CAAC,eAAe,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;gBAC1U,MAAM;YACR;YACA;4DAAW,IAAM,gBAAgB;2DAAO;QAC1C;mDAAG;QAAC;QAAa;KAAU;IAE3B,mGAAmG;IACnG,MAAM,iBAAiB,IAAA,mTAAW;2CAAC;YACjC,MAAM,aAAa,oBAAoB,OAAO;YAC9C,IAAI,aAAa,IAAI;gBACnB,gBAAgB;oBACd,SAAS,CAAC,iCAAiC,EAAE,WAAW,OAAO,CAAC;oBAChE,MAAM;gBACR;gBACA;uDAAW,IAAM,gBAAgB;sDAAO;gBACxC;YACF;YAEA,MAAM,cAAwB,EAAE;YAChC,MAAM,YAAY,mBAAmB,OAAO,CAAC,MAAM;6DAAC,CAAC,GAAG,IAAM,IAAI;4DAAG;YAErE,IAAI,eAAe,KAAK,cAAc,GAAG;gBACvC,gBAAgB;oBACd,SAAS;oBACT,MAAM;gBACR;gBACA;uDAAW,IAAM,gBAAgB;sDAAO;gBACxC;YACF;YAEA,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;gBAC3C,YAAY,IAAI,CAAC,mBAAmB,OAAO,CAAC,EAAE,GAAG;YACnD;YAEA,IAAI,aAAa;YACjB,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;gBAC3C,cAAc,WAAW,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE;YAC/C;YAEA,IAAI,eAAe,GAAG;gBACpB,gBAAgB;oBACd,SAAS;oBACT,MAAM;gBACR;gBACA;uDAAW,IAAM,gBAAgB;sDAAO;gBACxC;YACF;YAEA,kCAAkC;YAClC,MAAM,cAAc,YAAY;YAChC,MAAM,wBAAwB,YAAY,GAAG;yEAAC,CAAA,IAAK,WAAW,CAAC,IAAI,WAAW,EAAE,WAAW,CAAC;;YAC5F,eAAe;YAEf,wBAAwB,OAAO,GAAG;YAElC,gBAAgB;gBACd,SAAS,CAAC,kBAAkB,EAAE,WAAW,cAAc,EAAE,CAAC,aAAa,GAAG,EAAE,OAAO,CAAC,GAAG,YAAY,EAAE,CAAC,YAAY,GAAG,EAAE,OAAO,CAAC,GAAG,UAAU,EAAE,CAAC,cAAc,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC/K,MAAM;YACR;YACA;mDAAW,IAAM,gBAAgB;kDAAO;QAC1C;0CAAG;QAAC;QAAa;KAAU;IAE3B,2DAA2D;IAC3D,MAAM,8BAA8B,IAAA,mTAAW;wDAAC;YAC9C,MAAM,mBAAmB,YAAY,GAAG;iFAAC,CAAA,IAAK,EAAE,OAAO,CAAC;gFAAI,IAAI,CAAC;YACjE,MAAM,aAAa,CAAC,iDAAiD,EAAE,iBAAiB,EAAE,CAAC;YAE3F,oBAAoB;YACpB,UAAU,SAAS,CAAC,SAAS,CAAC,YAAY,IAAI;gEAAC;oBAC7C,gBAAgB;wBACd,SAAS,CAAC,wEAAwE,EAAE,WAAW,oEAAoE,CAAC;wBACpK,MAAM;oBACR;oBACA;wEAAW,IAAM,gBAAgB;uEAAO;gBAC1C;+DAAG,KAAK;gEAAC;oBACP,6CAA6C;oBAC7C,gBAAgB;wBACd,SAAS,CAAC,8BAA8B,EAAE,YAAY;wBACtD,MAAM;oBACR;oBACA;wEAAW,IAAM,gBAAgB;uEAAO;gBAC1C;;QACF;uDAAG;QAAC;KAAY;IAEhB,2EAA2E;IAC3E,2DAA2D;IAC3D,2KAA2K;IAC3K,2GAA2G;IAC3G,IAAA,iTAAS;yBAAC;YACR,MAAM;iDAAkB;oBACtB,IAAI,CAAC,aAAa,OAAO,EAAE;oBAC3B,MAAM,QAAQ,aAAa,OAAO,CAAC,WAAW,IAAI,OAAO,UAAU;oBACnE,MAAM,WAAW,YAAY,MAAM;oBACnC,MAAM,WAAW,QAAQ;oBACzB,MAAM,gBAAgB;oBAEtB,MAAM,eAAe,OAAO,WAAW;oBACvC,MAAM,gBAAgB,oHAAI,GAAG,GAAG,yEAAyE;oBAEzG,sCAAsC;oBACtC,MAAM,oBAAoB,CAAC,eAAe,aAAa,IAAI;oBAE3D,iEAAiE;oBACjE,MAAM,gBAAgB,oBAAoB,gBAAgB;oBAE1D,gDAAgD;oBAChD,MAAM,cAAc,KAAK,GAAG,CAAC,eAAe;oBAC5C,MAAM,gBAAgB,CAAC,cAAc,aAAa,IAAI;oBAEtD,mBAAmB;oBACnB,cAAc;gBAChB;;YAEA,oCAAoC;YACpC,MAAM,YAAY,WAAW,iBAAiB;YAC9C,OAAO,gBAAgB,CAAC,UAAU;YAClC;iCAAO;oBACL,aAAa;oBACb,OAAO,mBAAmB,CAAC,UAAU;gBACvC;;QACF;wBAAG;QAAC;KAAY;IAEhB,MAAM,aAAa,IAAA,mTAAW;uCAAC;YAC7B,IAAI,UAAU,YAAY;gBACxB;YACF;YACA,cAAc,OAAO,8CAA8C;YACnE;+CAAW,CAAA,OAAQ,OAAO;;YAC1B;+CAAe,CAAA,OAAQ,OAAO;;QAChC;sCAAG;QAAC;KAAQ;IAEZ,6CAA6C;IAC7C,MAAM,0BAA0B,IAAA,mTAAW;oDAAC;YAC1C,OAAO,0BAA0B,YAAY,MAAM;QACrD;mDAAG;QAAC,YAAY,MAAM;QAAE;KAA0B;IAElD,2EAA2E;IAC3E,iFAAiF;IACjF,MAAM,mBAAmB,IAAA,mTAAW;6CAAC;QACnC,4DAA4D;QAC9D;4CAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,mTAAW;0CAAC,CAAC;YACjC,MAAM,SAAS,kBAAkB,CAAC;YAClC,MAAM,aAAa,SAAS,IAAI,WAAW,CAAC,cAAc;YAC1D,MAAM,SAAS,aAAa;YAC5B,MAAM,SAAS,SAAS;YAExB,qCAAqC;YACrC,IAAI,QAAQ;gBACV,eAAe,OAAO;YACxB,OAAO,IAAI,iBAAiB,KAAK,gBAAgB,YAAY,MAAM,EAAE;gBACnE,mBAAmB,OAAO,CAAC,cAAc;YAC3C;YAEA,gEAAgE;YAChE,oBAAoB,OAAO;YAC3B,eAAe,OAAO,IAAI;YAE1B;kDAAW,CAAA,OAAQ,OAAO;;YAC1B,MAAM,YAAwB;gBAC5B,IAAI,KAAK,GAAG,KAAK,KAAK,MAAM;gBAC5B;gBACA;gBACA;YACF;YACA,wCAAwC;YACxC;kDAAW,CAAA,OAAQ;wBAAC;2BAAc;qBAAK;;YACvC,cAAc;gBAAE;gBAAQ,KAAK,KAAK,GAAG;YAAG;QAC1C;yCAAG;QAAC;QAAa;KAAiB;IAElC,MAAM,gBAAgB,CAAC,gBAA0B;QAC/C,IAAI,cAAc;QAClB,MAAM,WAAW,eAAe,MAAM;QACtC,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,IAAK;YAC3B,IAAI,WAAW,CAAC,WAAW,CAAC,IAAI;YAChC,IAAK,IAAI,IAAI,GAAG,IAAI,oHAAI,EAAE,IAAK;gBAC3B,YAAY,KAAK,MAAM,KAAK,MAAM,CAAC,MAAM;YAC7C;YACA,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,GAAG,KAAK,KAAK,CAAC;YACpE,eAAe,cAAc,CAAC,cAAc;QAChD;QACA,OAAO,cAAc;IACvB;IAEA,MAAM,iBAAiB,IAAA,mTAAW;2CAAC;YACjC,iBAAiB;YAEjB,2FAA2F;YAC3F,IAAI,mBAAkC;YACtC,MAAM,mBAAmB,oBAAoB,OAAO;YACpD,IAAI,mBAAmB,GAAG;gBACxB,mBAAmB,eAAe,OAAO,GAAG;YAC9C;YAEA,oBAAoB;YAEpB,uDAAuD;YACvD,MAAM,aAAuB,EAAE;YAC/B,MAAM,oBAA8B,EAAE;YACtC,MAAM,WAAW,YAAY,MAAM;YAEnC,yCAAyC;YACzC,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,IAAK;gBAC5B,IAAI,WAAW,CAAC,WAAW,CAAC,IAAI;gBAChC,IAAK,IAAI,IAAI,GAAG,IAAI,oHAAI,EAAE,IAAK;oBAC7B,YAAY,KAAK,MAAM,KAAK,MAAM,CAAC,MAAM;gBAC3C;gBACA,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,GAAG,KAAK,KAAK,CAAC;gBACpE,WAAW,IAAI,CAAC;gBAChB,kBAAkB,IAAI,CAAC,WAAW,CAAC,cAAc;YACnD;YAEA,wCAAwC;YACxC,MAAM,cAAc,kBAAkB,MAAM;+DAAC,CAAC,KAAK,SAAW,MAAM;8DAAQ;YAC5E,MAAM,gBAAgB,cAAc;YACpC,MAAM,YAAY,CAAC,IAAI,aAAa,IAAI;YAExC,yBAAyB;YACzB,MAAM,YAAY,IAAI,MAAM,UAAU,IAAI,CAAC;YAC3C,WAAW,OAAO;mDAAC,CAAA;oBACjB,SAAS,CAAC,OAAO;gBACnB;;YAEA,2BAA2B;YAC3B,MAAM,gBAAgB,uBAAuB;YAC7C,MAAM,iBAAiB;YAEvB,IAAI,aAAa,CAAC,wBAAwB,CAAC;YAE3C,IAAI,qBAAqB,MAAM;gBAC7B,cAAc,CAAC,oBAAoB,EAAE,iBAAiB,SAAS,EAAE,CAAC,mBAAmB,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;gBACzG,cAAc,CAAC,yCAAyC,CAAC;YAC3D;YAEA,cAAc,CAAC,+BAA+B,EAAE,CAAC,gBAAgB,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;YACrF,cAAc,CAAC,2BAA2B,EAAE,CAAC,iBAAiB,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;YAClF,cAAc,CAAC,eAAe,EAAE,CAAC,CAAC,gBAAgB,cAAc,IAAI,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;YACxF,cAAc,CAAC,eAAe,EAAE,UAAU,OAAO,CAAC,GAAG,KAAK,CAAC;YAE3D,IAAI,qBAAqB,MAAM;gBAC7B,MAAM,iBAAkB,CAAC,gBAAgB,gBAAgB,IAAI;gBAC7D,cAAc,CAAC,0BAA0B,EAAE,iBAAiB,IAAI,MAAM,KAAK,eAAe,OAAO,CAAC,GAAG,GAAG,CAAC;gBACzG,cAAc,CAAC,iDAAiD,CAAC;YACnE;YAEA,cAAc,CAAC,qCAAqC,CAAC;YACrD,UAAU,OAAO;mDAAC,CAAC,OAAO;oBACxB,MAAM,aAAa,AAAC,QAAQ,MAAO;oBACnC,cAAc,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,GAAG,KAAK,EAAE,WAAW,CAAC,EAAE,CAAC,GAAG,CAAC;gBAC7F;;YAEA,IAAI,oBAAoB,MAAM,qBAAqB,MAAM;gBACvD,qCAAqC;gBACrC,MAAM,cAAwB,EAAE;gBAChC,MAAM,YAAY,mBAAmB,OAAO,CAAC,MAAM;iEAAC,CAAC,GAAG,IAAM,IAAI;gEAAG;gBACrE,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;oBAC3C,YAAY,IAAI,CAAC,mBAAmB,OAAO,CAAC,EAAE,GAAG;gBACnD;gBAEA,+EAA+E;gBAC/E,IAAI,kCAAkC;gBACtC,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;oBAC3C,mCAAmC,WAAW,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE;gBACpE;gBAEA,MAAM,QAAQ,YAAY;gBAC1B,MAAM,eAAe,AAAC,QAAQ,YAAa;gBAE3C,cAAc,CAAC,uCAAuC,CAAC;gBACvD,cAAc,CAAC,gBAAgB,EAAE,iBAAiB,EAAE,EAAE,mBAAmB,wBAAwB,OAAO,CAAC,0BAA0B,CAAC;gBACpI,cAAc,CAAC,+BAA+B,EAAE,CAAC,mBAAmB,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;gBACxF,cAAc,CAAC,2CAA2C,EAAE,CAAC,kCAAkC,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;gBACnH,cAAc,CAAC,eAAe,EAAE,CAAC,YAAY,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;gBACjE,cAAc,CAAC,UAAU,EAAE,eAAe,IAAI,MAAM,KAAK,aAAa,OAAO,CAAC,GAAG,KAAK,CAAC;gBAEvF,IAAI,sBAAsB,OAAO,CAAC,MAAM,GAAG,GAAG;oBAC5C,cAAc,CAAC,6BAA6B,EAAE,sBAAsB,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;oBACxF,sBAAsB,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO;2DAAC,CAAC,KAAK;4BACpD,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,OAAO,CAAC,GAAG,UAAU,EAAE,CAAC,IAAI,WAAW,GAAG,GAAG,EAAE,OAAO,CAAC,GAAG,UAAU,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC;wBAC5I;;gBACF;gBAEA,cAAc,CAAC,4CAA4C,CAAC;gBAC5D,YAAY,OAAO;uDAAC,CAAC,MAAM;wBACzB,cAAc,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,OAAO,GAAG,EAAE,OAAO,CAAC,GAAG,GAAG,EAAE,mBAAmB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;oBACvG;;YACF,OAAO,IAAI,mBAAmB,IAAI;gBAChC,cAAc,CAAC,4DAA4D,CAAC;YAC9E;YAEA,oBAAoB;YACpB,iBAAiB;QACnB;0CAAG;QAAC;QAAa;QAAwB;KAAU;IAInD,qBACE,oUAAC;QAAI,WAAU;kBACb,cAAA,oUAAC;YACC,KAAK;YACL,WAAU;YACV,OAAO;gBACL,QAAQ,mBAAmB;gBAC3B,WAAW;YACb;;8BAGA,oUAAC;oBAAI,WAAU;8BACX,4BACE,oUAAC;wBAA0B,WAAU;wBAA+B,OAAO;4BAAE,OAAO;wBAAU;;4BAAG;4BAC5F,WAAW,MAAM,CAAC,OAAO,CAAC;;uBADpB,WAAW,GAAG;;;;;;;;;;gBAM9B,8BACC,oUAAC;oBAAI,WAAU;8BACb,cAAA,oUAAC;wBACC,WAAW,CAAC,kCAAkC,EAC5C,aAAa,IAAI,KAAK,YAClB,oDACA,aAAa,IAAI,KAAK,UACtB,8CACA,gDACJ;kCAEF,cAAA,oUAAC;4BAAI,WAAU;;8CACb,oUAAC;oCAAE,WAAU;8CAA8B,aAAa,OAAO;;;;;;8CAC/D,oUAAC;oCACC,SAAS,IAAM,gBAAgB;oCAC/B,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;8BAQT,oUAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,QAAQ,cAAc;wBAAQ,YAAY,aAAa,GAAG,aAAa,KAAK,EAAE,CAAC,GAAG;wBAAQ,eAAe,aAAa,GAAG,aAAa,KAAK,EAAE,CAAC,GAAG;oBAAO;8BAEjK,cAAA,oUAAC;wBAAO,SAAS,IAAM,qBAAqB;wBAAO,WAAU;kCAAkH;;;;;;;;;;;8BAKjL,oUAAC;oBAAK,KAAK;oBAAS,WAAU;oBAAY,OAAO;wBAAE,YAAY,cAAc;oBAAE;8BAC5E,cAAA,oUAAC,wIAAW;wBACT,aAAa;wBACb,aAAa;wBACb,WAAW;wBACX,SAAS;;;;;;;;;;;8BAIf,oUAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,QAAQ,cAAc;wBAAQ,YAAY,aAAa,GAAG,aAAa,KAAK,EAAE,CAAC,GAAG;wBAAQ,eAAe,aAAa,GAAG,aAAa,KAAK,EAAE,CAAC,GAAG;oBAAO;8BAE/J,cAAA,oUAAC;wBACG,SAAS;wBACT,UAAU,UAAU;wBACpB,WAAU;wBACV,OAAO;4BACH,YAAY,UAAU,aAAa,gDAAgD;4BACnF,WAAW,UAAU,aAAa,SAAS;wBAC/C;wBACA,cAAc,CAAC;4BACX,IAAI,WAAW,YAAY;gCACvB,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;4BACvC;wBACJ;wBACA,cAAc,CAAC;4BACX,IAAI,WAAW,YAAY;gCACvB,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;4BACvC;wBACJ;kCACH;;;;;;;;;;;gBAKJ,mCACG,oUAAC;oBAAI,WAAU;oBAA8G,SAAS,IAAM,qBAAqB;8BAC7J,cAAA,oUAAC;wBAAI,WAAU;wBAAsF,SAAS,CAAA,IAAK,EAAE,eAAe;;0CAChI,oUAAC;gCAAI,WAAU;;kDACX,oUAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,oUAAC;wCAAO,SAAS,IAAM,qBAAqB;wCAAQ,WAAU;kDAAiE;;;;;;;;;;;;0CAGnI,oUAAC;gCAAI,WAAU;;kDACX,oUAAC;wCAAO,SAAS,IAAM,eAAe;wCAAa,WAAW,CAAC,oDAAoD,EAAE,gBAAgB,aAAa,eAAe,qCAAqC;wCAAE,OAAO,gBAAgB,aAAa;4CAAE,OAAO;4CAAW,aAAa;wCAAU,IAAI,CAAC;kDAAG;;;;;;kDAC/R,oUAAC;wCAAO,SAAS,IAAM,eAAe;wCAAY,WAAW,CAAC,oDAAoD,EAAE,gBAAgB,YAAY,eAAe,qCAAqC;wCAAE,OAAO,gBAAgB,YAAY;4CAAE,OAAO;4CAAW,aAAa;wCAAU,IAAI,CAAC;kDAAG;;;;;;kDAC5R,oUAAC;wCAAO,SAAS,IAAM,eAAe;wCAAY,WAAW,CAAC,oDAAoD,EAAE,gBAAgB,YAAY,eAAe,qCAAqC;wCAAE,OAAO,gBAAgB,YAAY;4CAAE,OAAO;4CAAW,aAAa;wCAAU,IAAI,CAAC;kDAAG;;;;;;;;;;;;0CAGhS,oUAAC;gCAAI,WAAU;;oCAEd,gBAAgB,4BACb,oUAAC;wCAAI,WAAU;;0DACX,oUAAC;gDAAI,WAAU;;kEACX,oUAAC;wDAAG,WAAU;kEAAqC;;;;;;kEACnD,oUAAC;;0EACG,oUAAC;gEAAM,WAAU;;kFACf,oUAAC;kFAAK;;;;;;kFACN,oUAAC;wEAAK,WAAU;wEAAY,OAAO;4EAAE,OAAO;wEAAU;kFAAI,QAAQ,OAAO,CAAC;;;;;;;;;;;;0EAE5E,oUAAC;gEAAI,WAAU;;oEAA6B;oEAC3B,mBAAmB,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG;oEAAG;;;;;;;;;;;;;;;;;;;0DAI/E,oUAAC;gDAAI,WAAU;;kEACX,oUAAC;wDAAG,WAAU;kEAAqC;;;;;;kEACnD,oUAAC;wDAAE,WAAU;kEAAwB;;;;;;kEAGrC,oUAAC;wDAAO,SAAS;wDAAgB,UAAU;wDAAe,WAAU;wDAAkF,OAAO;4DAAE,iBAAiB;wDAAyB;wDAAG,cAAc,CAAC,IAAM,CAAC,iBAAiB,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,sBAAsB;wDAAG,cAAc,CAAC,IAAM,CAAC,iBAAiB,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,wBAAwB;kEACxZ,gBAAgB,mBAAmB;;;;;;kEAExC,oUAAC;wDACG,SAAS;wDACT,UAAU,AAAC,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,GAAI;wDAC5E,WAAU;wDACV,OAAO;4DAAE,iBAAiB,AAAC,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,IAAK,KAAK,2BAA2B;wDAAwB;wDACrJ,cAAc,CAAC,IAAM,AAAC,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,IAAK,MAAM,CAAC,iBAAiB,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,sBAAsB;wDAC/K,cAAc,CAAC,IAAM,AAAC,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,IAAK,MAAM,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,wBAAwB;kEAE9J,AAAC,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,IAAK,KAChE,CAAC,WAAW,EAAE,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,CAAC,YAAY,EAAE,oBAAoB,OAAO,CAAC,OAAO,CAAC,GAC9H,CAAC,oBAAoB,EAAE,oBAAoB,OAAO,GAAG,wBAAwB,OAAO,CAAC,MAAM,EAAE,oBAAoB,OAAO,CAAC,OAAO,CAAC;;;;;;kEAEzI,oUAAC;wDACG,SAAS;wDACT,UAAU,oBAAoB,OAAO,GAAG;wDACxC,WAAU;wDACV,OAAO;4DAAE,iBAAiB,oBAAoB,OAAO,IAAI,KAAK,2BAA2B;wDAAwB;wDACjH,cAAc,CAAC,IAAM,oBAAoB,OAAO,IAAI,MAAM,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,sBAAsB;wDACzH,cAAc,CAAC,IAAM,oBAAoB,OAAO,IAAI,MAAM,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,wBAAwB;kEAC9H;;;;;;kEAGD,oUAAC;wDACG,SAAS;wDACT,WAAU;wDACV,OAAO;4DAAE,iBAAiB;wDAA0B;wDACpD,cAAc,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wDAC9D,cAAc,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;kEACjE;;;;;;oDAGA,sIAAsB,CAAC,MAAM,GAAG,mBAC7B,oUAAC;wDAAI,WAAU;;0EACX,oUAAC;0EAAO;;;;;;4DAA0B;;;;;;;oDAGzC,oBAAoB,OAAO,IAAI,oBAC5B,oUAAC;wDAAI,WAAU;;0EACX,oUAAC;0EAAO;;;;;;4DAA4B;;;;;;;;;;;;;4CAI/C,kCACG,oUAAC;gDAAI,WAAU;0DACX,cAAA,oUAAC;oDAAI,WAAU;8DAAoD;;;;;;;;;;;;;;;;;oCAKlF,gBAAgB,2BACb,oUAAC;wCAAI,WAAU;;0DACX,oUAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,oUAAC;gDAAE,WAAU;;oDAA0B;oDAAE,QAAQ,cAAc,CAAC,WAAW;wDAAC,uBAAuB;wDAAG,uBAAuB;oDAAC;;;;;;;;;;;;;oCAGrI,gBAAgB,2BACb,oUAAC,yIAAY;wCACT,SAAS;wCACT,YAAY,oBAAoB,OAAO;wCACvC,aAAa,eAAe,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU/D;GA/rBM;KAAA;uCAisBS"}}]
}